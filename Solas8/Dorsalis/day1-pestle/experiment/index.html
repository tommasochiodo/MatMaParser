<!DOCTYPE html>
<script id="isLive">
document.getElementById("isLive").innerHTML = "var notLive=true;"; // burn before running
var notLive = false;
</script>
<title>Solas results</title>
<meta charset="utf-8">
<meta name="viewport"  content="width=device-width, initial-scale=0.75">
<link rel="icon"       href="../../../.butterfly-1.png" type="image/png">
<style>
@media print {
/* * { border: 1px solid black; } */
img.center { display: none !important; }
svg { width: 100% !important; height: 90% !important; }
#isLive { display: none !important; }
html, body { width: 100% !important; height: 95% !important; overflow: hidden !important; }
body { background-color: white !important; };
#navbar { position: absolute; width: auto !important; margin-left: 5%;}
#navbar ul { width: auto !important; }
.dot0 { font-size: 9pt !important; padding-left: 0px !important; }
.dot0 .checkmark { display: none !important; }
#chart  {
    position: absolute !important;
    width: 90% !important;
    height: 90% !important;
    top: auto !important;
    overflow: hidden;
}
#legend {
    position: absolute !important;
    top: auto !important;
    bottom: 10px;
    box-shadow: none !important;
    background-color: rgba(250,250,250,.75) !important;
}
#scroll { overflow: initial !important; max-height: initial !important; }
#dnext  { display: none !important; }
#d0     { display: none !important; }
.axis path, .axis line { stroke: black !important; }
pre b { color: black; }
#score  { display: none; position: absolute !important; right: 0px; }
#printscore  { display: none; position: absolute !important; font-size: 16px !important; left: 11ex; top: 11ex; }
svg line { stroke: black; stroke-width: 1px; display: none; }
#dd1, #dd2, #dd3, #dd4, #dd5, #dd6, #dd7, #dd8 { display: none !important; }
.tooltip { opacity: 0.0 !important; }
.tooltipexact { color: black !important; opacity: 1.0 !important; display: none; }
/*svg g g:hover circle { stroke-width: 1px !important; }*/
#butterfly { display: none; }
.dot1 input ~ .checkmark:before { position: relative; top: -2px; font-size: 18px; content: "\2588"; color: #2952ff; }
.dot2 input ~ .checkmark:before { position: relative; top: -2px; font-size: 18px; content: "\2588"; color: #2fb06e; }
.dot3 input ~ .checkmark:before { position: relative; top: -2px; font-size: 18px; content: "\2588"; color: #de4949; }
.dot4 input ~ .checkmark:before { position: relative; top: -2px; font-size: 18px; content: "\2588"; color: #533464; }
} /*@media print*/

body {
    background-color: white;
    font     : 12pt sans-serif;
    padding  : 0;
    margin   : 0;
    width    : 95%;
    height   : 95%;
    overflow : hidden;
    touch-action: none;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}
img.center {
    display: block;
    position: absolute;
    margin: auto;
    height: auto;
    max-width: 100%;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
}
#chart {
    position: relative;
    left: 0px;
    right: 0px;
    top: 0px;
    bottom: 0px;
    width: 100%;
    margin-top: 40px;
}
.svg-container {
    display: inline-block;
    position: relative;
    width: 100%;
    height: 100%;
    padding-bottom: 0%;
    vertical-align: top;
}
.svg-content {
    display: inline-block;
    position: absolute;
    top: 0;
    left: 0;
}
.svg-container text { font-size: 10pt; }
.tooltip {
    pointer-events   : none;
    position         : absolute;
    z-index: 3;
    /* border : 1px;   */
    /* height : 32px;  */
    /* width  : 150px; */
}
.tooltip .tooltiptext {
    white-space: nowrap;
    background-color : black;
    color: #fff;
    text-align: center;
    padding: 10px 10px;
    border-radius: 12px 12px 0px 12px;
    position: relative;
    top: -26px;
    right: 100%;
    z-index: 3;
    border: 1px solid white;
/*    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); */
}
.tooltip .tooltiptext.right {
    position: relative;
    right: 0px;
    left: 5px;
    top: 15px;
    border-radius: 0px 12px 12px 12px;
}
.tooltipexact circle { color: black; stroke: white; }

container {
    width  : 80% ;
    height : 80% ;
}
.axis {
    font-size: 16px;
    font-weight:500;
}
@media screen {
.axis text {
    fill: black;
}
svg line { stroke: black; stroke-width: 1px; }
}
.axis path, .axis line {
    fill   : none;
    stroke : black;
    /* shape-rendering : crispEdges; */
}
.legend rect {
    fill:white;
    stroke:black;
    opacity:0.8;
}
#legend {
    display: inline-block;
    position: fixed;
    top: 200px;
    left: 60px;
    margin-top: 0%;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    background-color: rgba(250,250,250,.75);
    z-index: 1;
}
#scroll {
    padding-left: 20px;
    overflow: auto;
    padding-right: 20px;
    max-height: 300px;
}
#butterfly {
    cursor: pointer;
}
/* Customize the label (the container) */
.cb-container {
    display: block;
    position: relative;
    padding-left: 20px;
    margin-bottom: 12px;
    cursor: pointer;
    font-size: 10pt;
    margin-left: 4px;
}

.noselect {
    -webkit-user-select: none; /* webkit (safari, chrome) browsers */
    -khtml-user-select: none; /* webkit (konqueror) browsers */
    -moz-user-select: none; /* mozilla browsers */
    -ms-user-select: none; /* IE10+ */
    user-select: none; /* CSS standard */
}
/* Hide the browser's default checkbox */
.cb-container input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
}
/* Create a custom checkbox */
.checkmark {
    position: absolute;
    top: 0;
    left: 0;
    height: 12px;
    width: 12px;
    background-color: #eee;
}
/* On mouse-over, add a grey background color */
.cb-container:hover input ~ .checkmark {
    background-color: #ccc;
}
/* When the checkbox is checked, add a background color */
/*.dot1 input:checked ~ .checkmark { background-color: #2952ff; } /* 41  82 255  #2952ff blue  */
/*.dot2 input:checked ~ .checkmark { background-color: #2fb06e; } /* 47 176 110  #2fb06e green */
/*.dot3 input:checked ~ .checkmark { background-color: #de4949; } /*222  73  73  #de4949 red   */
/*.dot4 input:checked ~ .checkmark { background-color: #533464; } /* 83  51 100  #533464 purple*/
.dot1 input ~ .checkmark { background-color: #2952ff; } /* 41  82 255  #2952ff blue  */
.dot2 input ~ .checkmark { background-color: #2fb06e; } /* 47 176 110  #2fb06e green */
.dot3 input ~ .checkmark { background-color: #de4949; } /*222  73  73  #de4949 red   */
.dot4 input ~ .checkmark { background-color: #533464; } /* 83  51 100  #533464 purple*/

.dot0 { margin-bottom: 0px; font-size: inherit; }
.dot0 .checkmark { width: 16px; height: 16px; }
.dot0 input:checked ~ .checkmark { background-color: #fff; }
.dot0 input ~ .checkmark { background-color: #fff; }

.dot0 input { display: none; } /* fix shifting checkbox on click on android */

/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}
/* Show the checkmark when checked */
.cb-container input:checked ~ .checkmark:after {
    display: block;
}
/* Style the checkmark/indicator */
.cb-container .checkmark:after {
    left: 4px;
    top: 1px;
    width: 3px;
    height: 6px;
    border: solid white;
    border-width: 0 2px 2px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}
.dot0 .checkmark:after {
    left: 5px;
    top: 2px;
    width: 3px;
    height: 8px;
    border: solid black;
    border-width: 0 3px 3px 0;
}
#navbar {
    z-index: 2;
    width: 100%;
}

#navbar ul {
    list-style-type: none;
    margin: 0px;
    width: 100%;
    padding: 0px;
    background-color: #333;
}
#navbar > ul {
    overflow: hidden;
}
#navbar ul li:nth-child(even) {
    background-color: #555;
}
#navbar li {
    float: left;
    min-width: 2.5em;
    cursor: pointer;
}
#dd0 ul li {
    float: none;
}
#navbar li a {
    display: block;
    color: white;
    text-align: center;
    padding: 15px 6px;
/*    padding: * 6px;*/
    text-decoration: none;
    font-size: 10pt;
    font-weight: bold;
    touch-action: manipulation;
}
/*#navbar li a:hover:not(.active) {
    background-color: #a6192e;
}*/
#navbar .active {
    padding: 15px 4px;
    background-color: #4CAF50;
}
.dropdown {
    float: left;
    overflow: hidden;
}
.dropdown .dropbtn {
    font-size: 16px;
    border: none;
    outline: none;
    color: white;
    padding: 10px 12px;
    background-color: inherit;
    font-family: inherit;
    margin: 0;
}
pre b { color: black; }
#dd0 .dropdown-submenu {
    position: relative;
}
#dd0 .dropdown-submenu .dropdown-menu {
    overflow: visible;
    position: absolute;
    top: 0;
    left: 100%;
    list-style: none;
    display: block;
}
#navbar a:hover.active {
    background-color: orange;
}
/*
#nav0:hover.active {
    background-color: #4CAF50;
}
*/
#nav0.active.navhover {
    background-color: orange;
}
#nav0.active:not(.navhover) {
    background-color: #4CAF50 !important;
}
#navbar a:focus, .dropdown:focus .dropbtn {
    background-color: #a6192e;
}
.dropdown-content {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 4;
}
.dropdown-content a {
    float: none;
    color: black;
    padding: 10px 12px;
    text-decoration: none;
    display: block;
    text-align: left;
}
.dropdown-content a:focus {
    background-color: #ddd;
}
/*
#d0:hover .dropdown-content {
    display: block;
    z-index: 5;
}
*/
#d0.show .dropdown-content {
    display: block;
    z-index: 5;
}

.dropdown:focus .dropdown-content {
    display: block;
}
*:focus {
    outline: none;
}
#filter {
    position: absolute;
}
.dot {
    stroke: black;
}
.dot text {
    stroke: none;
}
svg g g             circle { stroke-width: 1px; }
svg g g.axis:hover .tick   { stroke-width: 1px; }
svg g g.axis:hover .domain { stroke-width: 1px; }
svg g g.axis:hover .label  { stroke-width: 1px; }

.dot1 { color: #2952ff; fill: #2952ff; } /* 41  82 255  #2952ff blue  */
.dot2 { color: #2fb06e; fill: #2fb06e; } /* 47 176 110  #2fb06e green */
.dot3 { color: #de4949; fill: #de4949; } /*222  73  73  #de4949 red   */
.dot4 { color: #533464; fill: #533464; } /* 83  51 100  #533464 purple*/

.dot.nohover .dot1 { fill: #ddd !important; stroke: none !important; } /* #595959 */
.dot.nohover .dot2 { fill: #ddd !important; stroke: none !important; } /* #828282 */
.dot.nohover .dot3 { fill: #ddd !important; stroke: none !important; } /* #727272 */
.dot.nohover .dot4 { fill: #ddd !important; stroke: none !important; } /* #434343 */

.dot { cursor: pointer; }

.lines { fill: none; stroke-width: 4px; stroke-linecap: round; }
.line1 { stroke: #2952ff; }
.line2 { stroke: #2fb06e; }
.line3 { stroke: #de4949; }
.line4 { stroke: #533464; }
.line1.fit { stroke-dasharray: 10; }
.line2.fit { stroke-dasharray: 10; }
.line3.fit { stroke-dasharray: 10; }
.line4.fit { stroke-dasharray: 10; }
.line.hover { stroke-width: 8px !important; }

.line.nohover .line1 { stroke: #ddd !important; } /* #595959 !important; } */
.line.nohover .line2 { stroke: #ddd !important; } /* #828282 !important; } */
.line.nohover .line3 { stroke: #ddd !important; } /* #727272 !important; } */
.line.nohover .line4 { stroke: #ddd !important; } /* #434343 !important; } */

#score {
    display:  none;
    position: relative;
    font-size: 7pt;
}
#printscore {
    display:  none;
    position: relative;
}
rect.zoom {
  stroke: steelblue;
  fill: #bbb;
  fill-opacity: 0.5;
}

canvas {
    display: block;
    width: 100%;
    height: 100%;
    visibility: hidden;
}

.onoffswitch {
    position: relative; width: 80px;
    -webkit-user-select:none; -moz-user-select:none; -ms-user-select: none;
    -khtml-user-select: none; /* webkit (konqueror) browsers */
    user-select: none;
}
.onoffswitch-checkbox {
    display: none;
}
.onoffswitch-label {
    display: block; overflow: hidden; cursor: pointer;
    border: 0px solid #999999; border-radius: 0px;
}
.onoffswitch-inner {
    display: block; width: 200%; margin-left: -100%;
    transition: margin 0.3s ease-in 0s;
    cursor: pointer;
}
.onoffswitch-inner:before, .onoffswitch-inner:after {
    display: block; float: left; width: 50%; height: 45px; padding: 0; line-height: 41px;
    font-size: 10pt; color: white; font-family: inherit; font-weight: bold;
    box-sizing: border-box;
    border: 0px solid transparent;
    background-clip: padding-box;
}
.onoffswitch-inner:before {
    content: "ON";
    padding-left: 5px;
    border: 2px solid #4CAF50;
    background-color: #4CAF50; color: #FFFFFF;
}
.onoffswitch-inner:after {
    content: "OFF";
    padding-right: 5px;
    border: 2px solid #A6192E;
    background-color: #A6192E; color: #FFFFFF;
    text-align: right;
}
.onoffswitch-inner:hover:before, .onoffswitch-inner:hover:after, .onoffswitch-switch:hover {
    background-color: orange !important; /* important for -switch */
    border-color: orange;
}
.leftrightswitch-inner {
    display: block; width: 200%; margin-left: -100%;
    transition: margin 0.3s ease-in 0s;
    cursor: pointer;
}
.leftrightswitch-inner:before, .leftrightswitch-inner:after {
    display: block; float: left; width: 50%; height: 45px; padding: 0; line-height: 41px;
    font-size: 10pt; color: white; font-family: inherit; font-weight: bold;
    box-sizing: border-box;
    border: 0px solid transparent;
    background-clip: padding-box;
}
.leftrightswitch-inner:before {
    content: "RIGHT";
    padding-left: 5px;
    border: 2px solid #4CAF50;
    background-color: #4CAF50; color: #FFFFFF;
}
.leftrightswitch-inner:after {
    content: "LEFT";
    padding-right: 5px;
    border: 2px solid #A6192E;
    background-color: #A6192E; color: #FFFFFF;
    text-align: right;
}
.leftrightswitch-inner:hover:before, .leftrightswitch-inner:hover:after {
    background-color: orange !important;
    border-color: orange;
}
.onoffswitch-switch {
    display: block; width: 25px; margin: 0px;
    background: #333333;
    position: absolute; top: 0; bottom: 0;
    right: 55px;
    transition: all 0.3s ease-in 0s;
}
.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-inner {
    margin-left: 0;
}
.onoffswitch-checkbox:checked + .onoffswitch-label .leftrightswitch-inner {
    margin-left: 0;
}
.onoffswitch-checkbox:checked + .onoffswitch-label .onoffswitch-switch {
    right: 0px;
}
#help {
    position: absolute;
    top: 50%;
    left: 50%;
    padding: 1em;
    width: 25em;
    margin: auto;
    transform: translate(-50%, -50%);
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    background-color: rgba(250,250,250,.75);
    z-index: 2;
    font-size: 10pt;
    display: none;
}
#alert {
    position: absolute;
    top: 50%;
    left: 50%;
    padding: 1em;
    width: 25em;
    margin: auto;
    transform: translate(-50%, -50%);
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    background-color: rgba(250,250,250,.75);
    z-index: 3;
    display: none;
}
#alert.active { display: block; }
</style>
<style type="text/css" media="print" id="print"></style>
<body id="body">
  <script src="../../../.d3.v4.min.js"></script>
  <script>window.d3 || document.write('<script src="https://d3js.org/d3.v4.min.js">\x3C/script>');</script>
  <div id="config"><script src="data/.config.json"></script></div>
  <script>
// blow away script that read data/.config.json and
// write an explicit assignment of config to survive saving as Web Archive
document.getElementById("config").innerHTML="<script>const config='" + config + "';<" + "/script>";
  </script>
  <noscript>Javascript support was not detected, so this chart cannot be displayed properly.</noscript>
  <nav id="navbar" class="noselect"></nav>
  <span id="legend"></span>
  <div id="filter"></div>
  <div id="csv" style="display: none;"></div>
  <div id="fit" style="display: none;"></div>
  <div id="chart" class="svg-container"><canvas width="95%" height="95%"></canvas><svg></svg></div>
  <pre id="score"></pre>
  <pre id="printscore"></pre>
  <div id="help">
<table><caption>Key Bindings<hr width="50%"></caption>
<tbody id="helptbody">
<tr><th>ArrowUp</th><td>Mark all tubes checked</td></tr>
<tr><th>ArrowDown</th><td>Mark all tubes unchecked</td></tr>
<tr><th>ArrowLeft/N</th><td>Go to next tube (wraps around)</td></tr>
<tr><th>ArrowRight/P</th><td>Go to previous tube (wraps around)</td></tr>
<tr><th>Home/PageUp</th><td>Go to first tube</td></tr>
<tr><th>End/PageDown</th><td>Go to last tube</td></tr>
<tr><th>Space</th><td>Toggle current tube's checkmark</td></tr>
<tr><th>1..8</th><td>Go to numbered tube (second press toggles)</td></tr>
<tr><th>0 (zero)</th><td>Perform double-click on current tube</td></tr>
<tr><th>B</th><td>Go back to parent directory</td></tr>
<tr><th>D</th><td>Go to data directory</td></tr>
<tr><th>C</th><td>Toggle display of current cookie settings</td></tr>
<tr><th>K</th><td>Clear current cookie settings</td></tr>
<tr><th>R</th><td>Toggle automatic rescaling on/off</td></tr>
<tr><th>G</th><td>Toggle greying of checked unhovered tubes</td></tr>
<tr><th>M</th><td>Toggle between desktop and mobile versions</td></tr>
<tr><th>S</th><td>Toggle printing of scores</td></tr>
<tr><th>A</th><td>Toggle y-axis side of graph</td></tr>
<tr><th>H</th><td>Toggle display of this help screen</td></tr>
</tbody>
</table>
  </div>
  <div id="alert">
<dl><dt>Current cookie settings:</dt><dd id="cookie"></dd></dl>
  </div>
  <script>
var d3; // provided by script include
// var config; // provided by "data/.config.json"
var zoomed = false;

var dyenames;
var dyemap;
var TUBEList = [1, 2, 3, 4, 5, 6, 7, 8];
var DYEList = [1, 2, 3, 4];

SVGElement.prototype.getTransformToElement =
    SVGElement.prototype.getTransformToElement ||
    function(elem) {
        return elem
            .getScreenCTM()
            .inverse()
            .multiply(this.getScreenCTM());
    };

window.addEventListener('orientationchange', function () {
    doRefresh();
});

const butterfly = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAYAQMAAADJbu9PAAAABGdBTUEAALGPC/xhBQAAAAFz" +
    "UkdCAK7OHOkAAAAGUExURUdwTK0eMLwSRREAAAABdFJOUwBA5thmAAAALklEQVQI12NI4GEAogIZhgobEPphx/CnDoT+/YOi+j8gBOdCZIHK" +
    "IOqBGsEmAAAPmRzLN2rsDwAAAABJRU5ErkJggg==";
const butterflyDim = [16, 24]; // x,y dimensions of butterfly png
const matmacorp = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAScAAAB" +
    "CCAMAAAAiyuAuAAAAmVBMVEUAAACnqaynqaynqaynqaynqaynqaunqayoqqyoqqynqaynqaynqaynqaynqaynqaytHjCnqaytHjCtHjCnq" +
    "aynqaynqaunqautHjCtHzCtHjCtHzCtHjCtHjCtHjCtHjCnqqytHjCoqqynqautHzCnqqyuHjCtHjCtHjCtHjCnqqyuHzCoqqyoqqytHjC" +
    "uHzCnqaytHjCuHzChRlzEAAAAMHRSTlMAgL9A7xBAIEC/MM9Qn3Cvv2Dvn4/fYN/PECCAUIDfcN+vj49An2AQjzBgIN+fQI//Hc/QAAAIS" +
    "ElEQVR42u1caUPiMBBNGnpQWu5TERER3dV1Sf7/j9slCX0NOQDhGzxdtRn62r7MTCZtumSHAe++Ex/ep/yD3PEfD1zw6cxjnE055w/kDkL" +
    "+8v/w+cyAcyGeyR2ETPkOc6dtLrgQYkruIJ9cYvHuirq+Ms7IHRuu8OiwPSqTmJM7/vJdbHHef7AzvFJJiPuIJ9OTkHoMHElco0vu4Hwv1" +
    "IPDnbSV3Dx+8T3EwFET7MAF/0VuHRvtTbZDPUiDkN/3RP5UuZM4yFADwSulHsmto4u44/zTrquUVi/k1jEVKu7EYQ31Uel0H/DUcCcqOfo" +
    "ovN/7XCqoRLz5Ae8TaXwny6YyPFdOJu4zF0K+4U47LCrDQijltIJrYiJjCllutsdZwhKWsSRLyZnIdnuxJLEoEyaRJKdRJjSKlttGFEXDd" +
    "hKT62COHCR/fe/bhW4VyqdUO7Ddo2W2jysDJScjTNk7i5I2tgZGvauVBVAKA9uL3ILtyb4oDbOTOydfVLpzyfw6lCBtgQU7XQGPSggkogd" +
    "MWVTkYSR062T2V+Pk86O7DzWdlOPzKIG4sbVQkMsBvxF7uR4r+YQQSPIDr06dejPbnqdTdJwyC1N6XA9gVyozIZH8vVBZHKGojF2vTo168" +
    "+ulOtmUw1MpIWn0W4rDsoQOo/yq5ThEmdeyu9gb3Dp9NQ47rCXz8AVxN5GU2c8o35TKBbkytONADZnJEY3aJIRHJ7ra/RyiNVXecIE/Uem" +
    "Rrz+jbCAhXRt8D9TlM2TxmsWpE8Mwjqqgc4FOF1EmdlVx/WkL8EyeZRvizquT6sHUzKPjvRG1Z0EpLSlt5964C1P2LMoElCbjtu3XsS13K" +
    "WK3OTdOL6N0CHb4E4SZkqnYb4qqAnXr9CavwnT8uH5RKY0aW6ClM0+EJiUXKEup9RmUzExPmadkoNgpSohGtHfqdLWUmVY1xHS0Vfgq4E8" +
    "oldTGXEumR0JldOvUk1FhOH5rb8QQVMdvl06RlzIzKHEUQIkKUuIEMyurP6ZOaakk1g2N+odX8CcBh5JfaMNvt06xpDWG8LZTJyB16XQpJ" +
    "Vxv5I6pwwK0rOnUUtUM/MlEGw+D4UAQBpXm7nvq1ok0NT+G8BxGFJ5GV4Z1ItF5lLhoUB0inlj79Ay/DunUkPlsjRpACQOg/WVNPDq1a8N" +
    "4qvvTTCa0YAmL5Z+yfSnntpTKM5pQibFFOQxTJgblJKQTMnyD5oTERUttOHTKq4bJasxYb2SUtw+Dvg45iIQNIfqDB0J8OqUYilVmWcHoO" +
    "d3UrgvClMMTKTHnOcRIKpPrrRJZDTp12nnVsCy0G3bMSmPdN7xHQWi1+t/EBs57gvOUrAWMnnkFO6ITGZ1ByTDGJd4aK4cFs+WyplPUi83" +
    "Ebs6rlXHe1Y4DjczU3p0HdBpiENuRNmD0FYJJQCdQjk+jZKDMvDq14XRwqFElyyTHRyOzqhvuu2H2vOABCPlPLDYzn0551TeZdN+gTqf5U" +
    "16le3YiZQLJqG/eNzrULYYsQBNnZXD24T2IOEMo9US479MJXU4rz4IRYKygKASh03HKsZcyKWgJ6WOfTlDD7C8rzKwGcCqFzIBbQCz85dX" +
    "pjxop9BAe2xeV02i0BY7HHXk7mzI03tlqMEsnjz/huNyRktZWRg/pVOi/YhyhflFptAXccRembIYobZ2avvsI9GR/Age05zZezJtS2uO8O" +
    "sV66OxhEgqjXQjbcXc5ZVgnO2iz8/wJOhnV5YZsuA3noTF2xypY0kPjvhCOopJSasVdM0hZOim/bEqG2r1BDOAkhnYxcTw/QScIpae8/Xc" +
    "y6+vZCuoFdx7H6NGTzr10RtB2wnB+Vtz9jHLJzBBCMRTI43Yx0YQlnJ+miK3aopWBVU+572diblHmuhg3jaVRuSTOuAtTDkOUuGTU5snxP" +
    "J5Bp1PHu+5eDKWKXhK21pod0wlz1QZFv8KIwwbqpzBlEqKETvC0FbGwQkDWBCWB/ARFdYrsCq6+NPRa8QXSuPr26ISidV/zwGgfNrPyU8N" +
    "DuQLlMZ0gfYrpvasez817pBOCuPP60+uefnCYyDdYhaEsyvgR0CnH/Y0TOx+degGl7aIt7OKb30HP0upHCGfP756EOU/pq+X2M2HWmeLJr" +
    "xOe2P62jB2jh1n9ecgYogUox0coE5ty2zE8arcxMRwqwj7h+imWW9L+KGXAj8HBkmih7wg/h3QqtwqxYYTTvO0MefG6VIeNa0E4arOkTXt" +
    "nU5aKcgXK+mPzJlWIosY2wVKOIUtJMm6pA1uyoGFEWZYwRifoq28lQ4VfxjJgpK11SKdCFzS2Md06MOnBZbDnRZRfPezlqkEnjmUHfn8Cq" +
    "kSGOYoxrKFg0AEY1CnGjWS7YjwATCUamleiJH9sSxa8Px7WCbf3ZuYEb4P10mbiCk8FenSH1GGMjYU2eqONKPHpRH6fS6nQBikynC3UK2S" +
    "x6kwTo9zxAG9BgIUQcDUR1ClkjN+qIw5zkklnyKz57HmUZZ2SdYzxIH1dGjKWTO9EEXsdeQL+ugD4asfa0BWIPCNbP5nx+HPEBf0Pluqtr" +
    "OYlqXTEJL8GJZAyKlHIDwC53KvNYg8rAjEpFEEKw0tNJlUUYMEvnugNyI1A6eRbUOd8Be8Jz1z4E7kRIGEdYF5zp5n1upTCDb3f4vUnFEq" +
    "W0wywYOWT3Ai8/kR2BTfc6dChlFB9citoenXqIjsd4knc3Ost3rgjH2rBBdwJmPVVIr+dNB7QaY7aycKzXv20JreCplendy4xJS5Mb+31Y" +
    "PiTrQVuFDhHQ3FD6Ym8Rs0oGjpNz55CErOX+/+vol/BC8xLBveX7zB1+QhYP+4vUd9xKv4B/CylE5Cjk3sAAAAASUVORK5CYII=";
function constrainLegend(coord, left) {
    if( left ) {
        return Math.min( window.innerWidth - butterflyDim[0], Math.max( coord, butterflyDim[0]/2 ));
    } // else top
    return Math.min( window.innerHeight - butterflyDim[1], Math.max( coord, butterflyDim[1]/2 ));
};
function clampLegend() {
    var left = d3.select("#legend").style('left');
    var top = d3.select("#legend").style('top');
    left = +left.substring(0,left.length-2); // remove 'px'
    top = +top.substring(0,top.length-2); // remove 'px'

    d3.select("#legend").style('left', constrainLegend( left, true ) + 'px' );
    d3.select("#legend").style('top', constrainLegend( top, false ) + 'px' );
};
window.addEventListener('resize', clampLegend );

var lastHovered = 1;
var justHovered = 0;
var firstHovered = 1;
let isHovered = true;
let noGrey = true;
let noScore = true;
let scoreToggle;
let mobileToggle;
let greyToggle;
let rescaleToggle;
let fitToggle;
let showFit = false;

const isAndroid = navigator.userAgent.match(/Android/i);
let isMobile = ("ontouchstart" in document);

if (!isAndroid) {
    var style = document.createElement('style');
    style.type = 'text/css';
    style.innerHTML = '#d0:hover .dropdown-content { display: block; z-index: 5 }';
    document.getElementsByTagName('head')[0].appendChild(style);
};

let menuWithFocus;

function setTubesCookie() {
    const hex = calcTubeHex();
    setCookie('t', hex);
};

function cktube(tube, b) {
    var cb, cb2;
    if (b) { // over
        isHovered = true;
        cb2 = document.getElementById("lt"+lastHovered );
        if( !cb2.checked ) {
            document.getElementById("t"+lastHovered ).checked = false;
        };
        d3.select("#d"+lastHovered).style("background-color", lastHovered % 2 ? "#333" : "#555" );
        d3.select("#d"+tube).style("background-color", "#a6192e" );
        lastHovered = tube;
        if (lastHovered != 1) {
            setCookie("h", lastHovered);
        } else {
            clearCookie("h");
        };

        menuWithFocus = document.getElementById('d'+tube);
        if (menuWithFocus) { menuWithFocus.focus(); };
    } else { // out
        isHovered = false;
        // if even one tube is locked, clear lastHovered's color
        for (var j of TUBEList) {
            cb2 = document.getElementById("lt"+j);
            if (cb2 && cb2.checked) {
                d3.select("#d"+lastHovered).style("background-color", lastHovered % 2 ? "#333" : "#555" );
                break;
            };
        };
    };

    cb = document.getElementById("t" + tube);
    cb2 = document.getElementById("lt" + tube);
    if (cb && cb2) {
        cb.checked = b || cb2.checked;
    };
    if (isAndroid) {
        justHovered = tube;
    };
    const nav = document.getElementById('nav' + tube);
    nav.style.color = cb2.checked ? "orange" : "white";
    setTubesCookie();
    return true;
};

function lktube(tube) {
    if (tube != lastHovered) {
        // trying to lock a tube you're not hovering? lktube misfire!
        cktube(lastHovered, false);
        cktube(tube, true);
        return false;
    };
    if (justHovered == tube) {
        justHovered = 0;
        return false;
    };
    const cb2 = document.getElementById("lt" + tube);
    cb2.checked = !cb2.checked;
    var nav = document.getElementById('nav' + tube);
    nav.style.color = cb2.checked ? "orange" : "white";
    setTubesCookie();
    return true;
};

function ulktube(tube) {
    let flag = false; // assume no tubes locked
    for (let j of TUBEList) {
        const nav = document.getElementById('nav' + j);
        if (!nav) {
            break;
        };
        const cb = document.getElementById("t" + j);
        const cb2 = document.getElementById("lt" + j);
        if( !cb2 ) {
            break;
        };
        if (tube != j && cb2.checked) {
            flag = true; // found one
        };
        cb2.checked = tube == j;
        cb.checked = cb2.checked;
        nav.style.color = cb2.checked ? "orange" : "white";
    };

    if (!flag) { // if no other tubes are locked, lock them all
        for (let jj of TUBEList) {
            const cb2 = document.getElementById("lt" + jj);
            if (!cb2) {
                break;
            };
            const nav = document.getElementById('nav' + jj);
            if (nav) {
                document.getElementById("t" + jj).checked = true;
                document.getElementById("lt" + jj).checked = true;
                nav.style.color = "orange";
            };
        };
    };
    setTubesCookie();
    return true;
};

function setCookie(cname, cvalue, exdays) {
    switch (cname[0]) {
      case 't':
      case 'h':
      case 'i':
//      case 'd':
        // set page cookie
        document.cookie = cname + "=" + cvalue;
        break;
      default:
        // set site cookie
        document.cookie = cname + "=" + cvalue + "; path=/";
        break;
    };
};

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for( let c of ca ) {
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
};

function getCookiesPrefix(prefix) {
    let matches = [];
    const ca = document.cookie.split(';');
    for( let c of ca ) {
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        };
        if (c.charAt(0) == prefix) {
            matches.push(c);
        };
    };
    return matches;
};

function clearCookie(cname) {
    document.cookie = cname + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC;";
    document.cookie = cname + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
};

function clearAllCookies() {
    var cookies = document.cookie.split(";");

    for (var cookie of cookies) {
        var eqPos = cookie.indexOf("=");
        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;
        clearCookie(name);
    };
};

var samples = 0;
try {
    samples = JSON.parse(config);
} catch (e) {};

var yAxisSide = "left"; // "left" or "right" or "both" or "none"
var autoRescale = false;
var legendHidden = false;
var telem;
var search_values = window.location.search.replace('\?','').split('&');
var query = {}; // !!query still evaluates as true
var dyeQuery = {};

var DefaultDUR = 250;
var dur = DefaultDUR; // animation duration in ms (1000 = 1 second)

if (search_values == "") { // splash
    document.write( '<img id=logo src="'+matmacorp+'" class=center>' );
    var intervalId = window.setInterval( function() {
        d3.select("#logo").transition().duration(1000)
            .style("width", 0)
            .style("opacity", 0);
        window.clearInterval( intervalId );
    }, 1000 );
};

for (var value of search_values) {
    telem = value.split('=');
    if (telem != "") {
        if (telem[0].substring(0,1) == 'd' && telem[1] == '0') {
            dyeQuery[decodeURIComponent(telem[0].substring(1)).trim()] = telem[1];
        } else {
            switch (telem[0]) { // store only recognized parameters
              case 't':
                setCookie('t',telem[1]);
                // tube 8 is most significant bit, tube 1 least significant bit
                // convert hex to 1xxxxxxxx bitstring (forces 9 bits)
                var byte = (256+parseInt(telem[1],16)).toString(2);
                for (var i of TUBEList) // 1-8, skipping 0th bit (256)
                {
                    if (byte[i] == '1')
                    {
                        query['t'+(9-i)] = 1;
                    } else {
                        query['t'+(9-i)] = 0;
                    };
                };
                break;

              case 'x':
              case 'y':
                setCookie(telem[0],telem[1]);
                var ln = telem[1].length;
                if (telem[1].substring(ln-2, ln) == 'px') {
                    telem[1] = telem[1].substring(0,telem[1].length-2);
                };
                d3.select("#legend")
                    .style( telem[0] == 'x' ? 'left' : 'top',
                            constrainLegend( +telem[1], true ) + 'px' );
                break;

              case 'l':
                setCookie(telem[0],telem[1]);
                if (telem[1] == '0') {
                    legendHidden = true;
                };
                break;

              case 'h':
                setCookie(telem[0],telem[1]);
                if (+telem[1]) {
                    lastHovered = +telem[1];
                };
                firstHovered = lastHovered;
                break;

              case 'i':
                setCookie(telem[0],telem[1]);
                if (+telem[1] == 0) {
                    isHovered = false;
                };
                break;

              case 'a':
                setCookie(telem[0],telem[1]);
                dur = +telem[1];
                break;

              case 's':
                setCookie(telem[0],telem[1]);
                yAxisSide = telem[1];
                break;

              case 'r':
                setCookie(telem[0],telem[1]);
                autoRescale = (telem[1] != '0');
                break;

              case 'm':
                setCookie(telem[0],telem[1]);
                isMobile = (telem[1] != '0');
                break;

              case 'g':
                setCookie(telem[0],telem[1]);
                noGrey = (telem[1] != '0');
                break;

              case 'p':
                setCookie(telem[0],telem[1]);
                noScore = (telem[1] != '0');
                break;

              case 'f': // FIT
                setCookie(telem[0],telem[1]);
                showFit = (telem[1] != '0');
                break;
            };
        };
    };
};

let matches = getCookiesPrefix("d");
if (matches) {
    for (let dye of matches) {
	let sp = dye.split("=");
        if (sp[1] == "0") {
            dyeQuery[sp[0].substring(1)]='0';
        };
    };
};

let option = getCookie("t");
if (option) {
    // tube 8 is most significant bit, tube 1 least significant bit
    // convert hex to 1xxxxxxxx bitstring (forces 9 bits)
    var byte = (256+parseInt(option,16)).toString(2);
    for (var i of TUBEList) // 1-8, skipping 0th bit (256)
    {
        if (byte[i] == '1')
        {
            query['t'+(9-i)] = 1;
        } else {
            query['t'+(9-i)] = 0;
        };
    };
};

option = getCookie("x");
if (option) {
    var ln = option.length;
    if (option.substring(ln-2, ln) == 'px') {
        option = option.substring(0,option.length-2);
    };
    d3.select("#legend")
        .style( 'left', constrainLegend( +option, true ) + 'px' );
};
option = getCookie("y");
if (option) {
    var ln = option.length;
    if (option.substring(ln-2, ln) == 'px') {
        option = option.substring(0,option.length-2);
    };
    d3.select("#legend")
        .style( 'top', constrainLegend( +option, true ) + 'px' );
};
option = getCookie("l");
if (option) {
    if (option == '0') {
        legendHidden = true;
    };
};
option = getCookie("h");
if (option) {
    if (+option) {
        lastHovered = +option;
    };
    firstHovered = lastHovered;
};
option = getCookie("i");
if (option) {
    if (+option == 0) {
        isHovered = false;
    };
};
option = getCookie("a");
if (option) {
    dur = +option;
};
option = getCookie("s");
if (option) {
    yAxisSide = option;
};
option = getCookie("r");
if (option) {
    autoRescale = (option != '0');
};
option = getCookie("m");
if (option) {
    isMobile = (option != '0');
};
option = getCookie("g");
if (option) {
    noGrey = (option != '0');
};
option = getCookie("p");
if (option) {
    noScore = (option != '0');
};
option = getCookie("f"); // FIT
if (option) {
    showFit = (option != '0');
};
if (isEmpty(query)) {
    isHovered = true;
} else if (!isHovered) {
    firstHovered = 0;
};

if (notLive) {
    d3.select("#navbar").selectAll("*").remove();
};
var ul = d3.select("#navbar")
  .append("ul")
    .attr( "display", "block" )
    .attr( "id", "navbard" );

var bun = ul
  .append("li")
    .classed("dropdown", true )
    .attr( "id", "d0" )
//    .attr( "tabindex", "-1" )
    .style( "float", "left" )
    .classed("burger", true)
    .attr( "onmouseover", 'd3.select("#nav0").classed("navhover", true)' )
    .attr( "onmouseout", 'd3.select("#nav0").classed("navhover", false)' )
    .attr( "onclick", "dropdownBun();")
  .html( '<div id="dd0" class="dropdown-content">' )
  .insert("a", "div")
    .classed( "dropbtn", true )
    .classed( "active", true )
    .classed( "burger", true )
    .attr( "id", "nav0" )
  .append("svg")
    .attr("width",16)
    .attr("height",15)
    .classed("burger", true)
  .append("g")
    .classed("burger", true)
    .attr("style","stroke:#FFF;stroke-width:3;stroke-linecap:round");

bun.append("path").attr("d","m 0,14 16,0 0,0").classed("burger", true);
bun.append("path").attr("d","m 0,8 16,0 0,0").classed("burger", true);
bun.append("path").attr("d","m 0,2 16,0 0,0").classed("burger", true);

function dropdownBun() {
    document.getElementById("d0").classList.toggle('show');
};

window.onclick = function(e) {
    if (e.target.matches(".burger")) { return; };
    const d0 = document.getElementById("d0");
    if (d0.classList.contains('show')) {
        d0.classList.remove('show');
    };
    d3.select("#nav0").classed("navhover", false);
};

function setTubes() {
    for (tube of TUBEList) {
        const navd = document.getElementById("nav"+tube);
        const ltd = d3.select("#lt"+tube);
        if (!isEmpty(query)) {
            navd.style.color = query['t'+tube] == 1 ? "orange" : "white";
            ltd.property( "checked", query['t'+tube] == 1 );
	} else {
            navd.style.color = "white";
            ltd.property( "checked", false );
        };
    };
};

// the zero and the 1+ are for the hamburger button
var navElements = [ 0 ].concat(TUBEList);
if (samples) {
    navElements.length = 1 + samples.length;
};
ul.selectAll("li")
  .data(navElements).enter()
  .append("li")
    .classed( "dropdown", true )
    .attr( "id", d => 'd'+d )
    .attr("tabindex", "-1")
  .html( d => "<div id=dd"+d+" class=dropdown-content "+
                  "onmouseover='cktube("+d+", true )' "+
                  "onmouseout='cktube("+d+", false )'>" )
  .insert("a", "div")
    .classed( "dropbtn", true )
    .attr( "id", d => "nav"+d )
    .attr( "ondblclick",  d => "ulktube("+d+")" )
    .attr( "onclick",     d => "lktube(" +d+")" )
    .attr( "onmouseover", d => "cktube(" +d+", true)" )
    .attr( "onmouseout",  d => "cktube(" +d+", false)" )
  .insert("label", "div")
    .classed("cb-container noselect dot0", true )
  .html( d => (samples ? samples[d-1].id : d) + "<span class=checkmark></span>" )
  .insert("input", "span")
    .attr("id", d => "lt"+d )
    .attr("type", "checkbox" )
    .property( "checked", function(d) {
        const navd = document.getElementById("nav"+d);
        if (!isEmpty(query)) {
            navd.style.color = query['t'+d] == 1 ? "orange" : "white";
            return query['t'+d] == 1;
        };
        navd.style.color = "white";
        return false;
    });

var swipe; // to make swipe() function global
d3.select("#navbard")
  .insert("li", "#d1")
    .attr( "id", "dnext" )
    .classed( "dropdown", true )
    .style( "float", "right" )
  .append("a")
    .attr( "id", "next" )
    .classed( "dropbtn", true )
    .classed( "active", true )
    .attr( "onclick", "swipe('left');" )
  .html("<u>N</u>EXT TUBE");

var next = document.getElementById("next");
next.addEventListener("touchstart", function(e) {
    d3.select("#next").style("background-color", "#a6192e");
});
next.addEventListener("touchend", function(e) {
    d3.select("#next").style("background-color", "#4CAF50");
});

// only way to detect if no parameters given.
function isEmpty( obj ) {
    for (var name in obj) {
        return false;
    };
    return true;
};

function help() {
    // popup-like window centered in screen with keybinding information
    const helpWidget = d3.select("#help");
    helpWidget
        .style("display", helpWidget.style("display") == "none" ? "block" : "none");
};

function d3chart() {
    const testDuration = 0;
    const file  = "data/scanoutput.csv";
    const file2 = "data/scanoutput_fit.csv";

    function datumHover(hsvg, path) {
        function fixTouchMove( event ) {
            return;
        };
        document.body.removeEventListener( "touchstart", fixTouchMove, false );
        document.body.addEventListener("touchstart", fixTouchMove, false );

        // find the nearest dot and highlight it
        // adapted from https://observablehq.com/@d3/multi-line-chart

        if ("ontouchstart" in document) {
            hsvg.on("touchmove", moved)
                .on("touchstart", entered)
                .on("touchend", tleft);
        } else {
            hsvg.on("mousemove", moved)
                .on("mouseenter", entered)
                .on("click", mclick)
                .on("mouseleave", left);
        };

        let motion = false;
        let reject = false;
        function moved() {
            if (!isMobile) { return; };
            if ("ontouchstart" in document) {
                if (reject || d3.event.touches.length != 1) {
                    motion = false;
                    reject = true;
                    return;
                };
            };
            motion = true;
            d3.event.preventDefault();
            const TIMES = q.map( d => visTimes(d) ).filter( d => d != undefined );
            const DS = q.map( d => visiblesD(d) ).filter( d => d != undefined );
            const m = d3.mouse(this);
            const ym = yScale.invert(m[1]);
            const xm = xScale.invert(m[0]);
            const i1 = d3.bisectLeft(TIMES, xm, 1);
            const i0 = i1 - 1;
            const i = xm - TIMES[i0] > TIMES[i1] - xm ? i1 : i0;

            const w = visTubeCount() * 2; // # of visible tubes * 2
            const ds = DS.slice( (i - w < 0 ) ? 0 : i - w, i + w );
            const D = ds.reduce((a, b) => Math.abs(signals(a) - ym) < Math.abs(signals(b) - ym) ? a : b );
            const s = signals(D);
            const t = xValue(D);

            hdot.attr("transform", `translate(${xScale(t)},${yScale(s)})`);
            const direction = xScale(t)*2 < window.innerWidth;

            var tip = tooltip2Text(D);
            if (stickySignal) {
                 const delta = signals(D) - stickySignal;
                 tip += ", delta= " + delta.toFixed(0);
            };

            hdot.select("text")
              .text( tip )
                .attr("text-anchor", direction ? "start" : "end" )
                .attr("y", direction ? 12 : -8 );

            nonstickyDot = D;
            horizontalLine
                .attr("y1", yScale(s))
                .attr("y2", yScale(s))
                .attr("opacity", 1);
            verticalLine
                .attr("x1", xScale(t))
                .attr("x2", xScale(t))
                .attr("opacity", 1);

            hdot.attr("display", stickyDot != nonstickyDot ? null : "none" );
        };

        function entered() {
            if ("ontouchstart" in document) {
                if (isAndroid) {
                    // close menu if open
                    const d0 = document.getElementById("d0");
                    if (d0.classList.contains('show')) {
                        d0.classList.remove('show');
                    };
                };
                d3.select("#nav0").classed("navhover", false);
                if (d3.event.touches.length != 1) {
                    return false;
                };
            };
            motion = false;
            reject = false;
//            hdot.attr("display", null);
            return null;
        };

        function left() {
            hdot.attr("display", "none");
            horizontalLine.attr("opacity", 0);
            verticalLine.attr("opacity", 0);
            refresh();
        };

        function tleft() {
            if (motion) {
                stickyDot = nonstickyDot;
                stickyTime = xValue(stickyDot);
                stickySignal = signals(stickyDot);
                const stext = hdot.select("text");
                sdot.attr("transform", `translate(${xScale(stickyTime)},${yScale(stickySignal)})`);
                sdot.select("text")
                    .attr("text-anchor", stext.attr("text-anchor"))
                    .attr("y", stext.attr("y"))
                  .text( tooltip2Text(stickyDot) );
                sdot.attr("display", null );
                stickyHorizontalLine
                    .attr("y1", yScale(stickySignal))
                    .attr("y2", yScale(stickySignal))
                    .attr("opacity", 1);
                stickyVerticalLine
                    .attr("x1", xScale(stickyTime))
                    .attr("x2", xScale(stickyTime))
                    .attr("opacity", 1);
            } else if (!reject) {
                clearSticky();

                cktube(lastHovered, false);
                tds = tubesAndDyes();
                ts = tubeStates("t");
                lts = tubeStates("lt");
                if( isLocked(lts) ) {
                    for( let ttube of TUBEList ) {
                        for( let c of DYEList ) {
                            mlinesEnter.select('#t'+ttube+'c'+c)
                                .classed( "hover", false )
                                .classed( "nohover", false )
                                .attr("display", ts[ttube] && tds[ttube][c] ? 'inline' : 'none' );
                        };
                    };
                };
                rescaleGraphForce();
                document.getElementById('d'+lastHovered).blur();
            };
            left();
        };

        function mclick() {
            tleft();
            entered();
        };
    }; // function datumHover

    if( notLive ) { // reset everything
        d3.select("#chart svg").selectAll("*").remove();
        d3.select("#filter").selectAll("*").remove();
        d3.select("#legend").selectAll("*").remove();
    };
    if (isHovered) {
        menuWithFocus = document.getElementById('d'+firstHovered);
        if (menuWithFocus) { menuWithFocus.focus(); };
    };

    // Create a div for tooltips, though we'll move them later to appear next to the mouse.
    const sticky = d3.select("body")
      .append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);
    const stickySpan = sticky
      .append("span")
        .attr("class","tooltiptext");
    const tooltip = d3.select("body")
      .append("div")
        .attr("class", "tooltip")
        .style("opacity", 0);
    const tooltipSpan = tooltip
      .append("span")
        .attr("class","tooltiptext");

    var stickySignal = "";
    var stickyTime = "";
    var stickyDot = "";
    var stickyThis = "";
    var nonstickyDot = "";
    var nonstickyThis = "";

    var margin;
    if (yAxisSide == "left") {
        margin = {
            top: 10,
            right: -40,
            bottom: 40,
            left: 60
        };
    } else if (yAxisSide == "right") {
        margin = {
            top: 10,
            right: 0,
            bottom: 40,
            left: 30
        };
    } else if (yAxisSide == "both") {
        margin = {
            top: 10,
            right: 0,
            bottom: 40,
            left: 60
        };
    } else { // "none"
        margin = {
            top: 10,
            right: -40,
            bottom: 40,
            left: 30
        };
    };
    var navbarHeight = document.getElementById("navbar").clientHeight;
    var height = (window.innerHeight - 40) - margin.top - margin.bottom - navbarHeight;
    var width = (window.innerWidth - 60) - margin.left - margin.right;

    var svg = d3.select("#chart svg")
        .attr("preserveAspectRatio", "xMinYMin meet")
        .attr("viewBox", "0 0 " + window.innerWidth + " " + window.innerHeight )
        .classed("svg-content", true );
    svg = svg
      .append("g")
        .attr("id", "graph")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    /*if( !isMobile )*/ {
        // create an invisible object that can take clicks to clear sticky tooltip
        const gRect = svg.append("g").attr("id", "gRect");
        const transpRect = gRect.append("rect")
            .attr("id", "transpRect" )
            .attr("x", 0)
            .attr("y", 0)
            .attr("width", width).attr("height", height)
            .attr("opacity", 0.0)
            .on("mousedown", onMouseDown );
    };

    const stickyVerticalLine = svg
      .append("line")
        .attr("opacity", 0)
        .attr("y1", 0)
        .attr("y2", height)
        .attr("pointer-events", "none");

    const stickyHorizontalLine = svg
      .append("line")
        .attr("opacity", 0)
        .attr("x1", 0)
        .attr("x2", width)
        .attr("pointer-events", "none");

    function clearSticky() {
        sticky2Span.text("");
        sticky.transition().duration(dur).style("opacity", 0.0);
        stickySignal = "";
        stickyTime = "";
        stickyHorizontalLine.attr("opacity", 0 );
        stickyVerticalLine.attr("opacity", 0 );
        stickyDot="";
        stickyThis="";
        sdot.attr("display", "none");
        horizontalLine.attr("opacity", 0 );
        verticalLine.attr("opacity", 0 );
        hdot.attr("display", "none");
        tooltip.transition().duration(dur).style("opacity", 0.0);
    };

    function onMouseDown() {
        var type = d3.event.type;
        if (d3.event.button == undefined || (d3.event.button === 0 && !d3.event.ctrlKey))
        {
            var e = this,
                origin = d3.mouse(e),
                rect = svg.append("rect").attr("class", "zoom");
            d3.select("body").classed("noselect", true);
            origin[0] = Math.max(0, Math.min(width, origin[0]));
            origin[1] = Math.max(0, Math.min(height, origin[1]));
            d3.select(window)
               .on(
                   "mousemove.zoomRect",
                   function() {
                       if( d3.touches(this).length > 1 ) {
                           d3.select(window)
                               .on("mousemove.zoomRect", null)
                               .on("mouseup.zoomRect", null);
                           rect.remove();
                           return;
                       };
                       var m = d3.mouse(e);
                       m[0] = Math.max(0, Math.min(width, m[0]));
                       m[1] = Math.max(0, Math.min(height, m[1]));
                       rect.attr("x", Math.min(origin[0], m[0]))
                           .attr("y", Math.min(origin[1], m[1]))
                           .attr("width", Math.abs(m[0] - origin[0]))
                           .attr("height", Math.abs(m[1] - origin[1]));
                   },
                   true
               )
               .on(
                   "mouseup.zoomRect",
                   function() {
                       d3.select(window)
                           .on("mousemove.zoomRect", null)
                           .on("mouseup.zoomRect", null);
                       d3.select("body").classed("noselect", false);
                       rect.remove();
                       var m = d3.mouse(e);
                       m[0] = Math.max(0, Math.min(width, m[0]));
                       m[1] = Math.max(0, Math.min(height, m[1]));
                       if ((Math.abs(m[0] - origin[0]) > 15) && (Math.abs(m[1] - origin[1]) > 15)) {
                           xScale.domain(
                               [origin[0], m[0]].map(xScale.invert, xScale).sort(function(a,b) {
                                   return a-b;
                               })
                           );
                           yScale.domain(
                               [origin[1], m[1]].map(yScale.invert, yScale).sort(function(a,b) {
                                   return a-b;
                               })
                           );
                           zoomed = true;
                           refresh();
                       } else if (Math.abs(m[0] - origin[0]) <= 15) {
                           /* if (!isMobile) */ {
                               clearSticky();
                               if (zoomed) {
                                   rescaleGraphForce();
                               };
                           };
                       } else if( m[0] - origin[0] > 0 ) {
                           swipe("right");
                       } else if( m[0] - origin[0] < 0 ) {
                           swipe("left");
                       };
                       //refresh();
                   },
                   true
               );

            d3.event.stopPropagation();
        };

        /* Copyright 2012 Jason Davies https://www.jasondavies.com
         *
         * Permission to use, copy, modify, and/or distribute this software for any
         * purpose with or without fee is hereby granted, provided that the above
         * copyright notice and this permission notice appear in all copies.
         *
         * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
         * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
         * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
         * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
         * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
         * OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
         * PERFORMANCE OF THIS SOFTWARE.
         */
    };

    const verticalLine = svg
      .append("line")
        .attr("opacity", 0)
        .attr("y1", 0)
        .attr("y2", height)
        .attr("pointer-events", "none");

    const horizontalLine = svg
      .append("line")
        .attr("opacity", 0)
        .attr("x1", 0)
        .attr("x2", width)
        .attr("pointer-events", "none");

    // setup x (time) and the four y (channel signal) values.

    const tim="TIME",
          name="NAME",
          dye="CHANNEL",
          tube="TUBE",
          signal="SIGNAL";

    var xScale = d3.scaleLinear().range([0, width]);
    var yScale = d3.scaleLinear().range([height, 0]);

    const xAxis = d3.axisBottom(xScale);
    const yAxis = d3.axisLeft(yScale);
    const y2Axis = d3.axisRight(yScale);

    // "+d" helps distinguish integers from strings.
    var xValue  = d => +d[tim];
    var names   = d =>  d[name].trim();
    var dyes    = d => +d[dye];
    var tubes   = d => +d[tube];
    var signals = d => +d[signal];

    let dotsEnter;

    function refresh() {
        if (isMobile) {
            d3.select("#ismobile").attr("display", "inline");
            d3.select("#notmobile").attr("display", "none");
            mlinesEnter.selectAll('path').transition().duration(dur)
                .attr('d', d => mline(d) );
        } else {
            d3.select("#ismobile").attr("display", "none");
            d3.select("#notmobile").attr("display", "inline");
            dotsEnter.transition().duration(dur)
                .attr("transform", d => "translate(" + xMap(d) + "," + sigMap(d) + ")");
        };
        if (f) { // FIT
            mlinesEnter.selectAll('path').transition().duration(dur)
                .attr('d', d => fline(d) );
            flinesEnter.selectAll('path').transition().duration(dur)
                .attr('d', d => fline(d) );
        };
        svg.select(".x").transition().duration(dur)
            .call(d3.axisBottom(xScale));

        svg.select(".y").transition().duration(dur)
            .call(d3.axisLeft(yScale));
        svg.select(".y2").transition().duration(dur)
            .call(d3.axisRight(yScale));

        if (nonstickyDot) {
            verticalLine
                .attr("x1", xScale(xValue(nonstickyDot)))
                .attr("x2", xScale(xValue(nonstickyDot)));
            horizontalLine
                .attr("y1", yScale(signals(nonstickyDot)))
                .attr("y2", yScale(signals(nonstickyDot)));
            hdot
                .attr("transform", `translate(${xScale(xValue(nonstickyDot))},${yScale(signals(nonstickyDot))})`);
        };

        if (stickySignal) {
            tds = tubesAndDyes();
            ts = tubeStates("t");
            lts = tubeStates("lt");
            if( !visibles(stickyDot) ) {
                clearSticky();
            } else {
                var dest = svg.append("circle")
                    .style("visibility", "hidden")
                    .attr("cx", xScale(xValue(nonstickyDot)))
                    .attr("cy", yScale(signals(nonstickyDot)))
                    .attr("r", 10);
                var rect = dest.node().getBoundingClientRect();
                tooltip.transition().duration(dur)
                    .style("top", rect.top + "px")
                    .style("left", rect.left + "px");
                stickyVerticalLine.transition().duration(dur)
                    .attr("x1", xScale(stickyTime))
                    .attr("x2", xScale(stickyTime));
                stickyHorizontalLine.transition().duration(dur)
                    .attr("y1", yScale(stickySignal))
                    .attr("y2", yScale(stickySignal));
                dest
                    .attr("cx", xScale(stickyTime))
                    .attr("cy", yScale(stickySignal));
                rect = dest.node().getBoundingClientRect();
                stickySpan.classed("right", rect.left*2 < window.innerWidth);
                sticky.transition().duration(dur)
                    .style("top", rect.top + "px")
                    .style("left", rect.left + "px");
                sdot.transition().duration(dur)
                    .attr("transform",
                          `translate(${xScale(xValue(stickyDot))},${yScale(signals(stickyDot))})`);
                dest.remove();
            };
        };
    };

    var xMap = d => xScale(xValue(d));
    var sigMap = d => yScale(signals(d));

    var lastModified;
    var q=[{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.778,"TIME":0.0712191,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.624,"TIME":0.13826,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.6255,"TIME":0.152483,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.764,"TIME":0.219551,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.4731,"TIME":0.23471,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":136.187,"TIME":0.301895,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":101.497,"TIME":0.315243,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.862,"TIME":0.376037,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":0.38433,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":127.711,"TIME":0.445041,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.8083,"TIME":0.453286,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.018,"TIME":0.514199,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8152,"TIME":0.522753,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.114,"TIME":0.58401,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.657,"TIME":0.592753,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":128.411,"TIME":0.654258,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":91.0196,"TIME":1.22956,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.669,"TIME":1.28958,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":93.4522,"TIME":1.29751,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.764,"TIME":1.35785,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.3634,"TIME":1.36634,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":137.243,"TIME":1.4269,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":98.2915,"TIME":1.43498,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.833,"TIME":1.49539,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":92.1209,"TIME":1.50357,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.15,"TIME":1.56435,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.8083,"TIME":1.57222,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":138.381,"TIME":1.63254,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.7714,"TIME":1.6416,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.263,"TIME":1.70213,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.657,"TIME":1.71082,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":1.77152,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":92.0779,"TIME":2.34529,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.851,"TIME":2.40634,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":93.4522,"TIME":2.41422,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":137.226,"TIME":2.47548,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.3634,"TIME":2.48388,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":140.41,"TIME":2.54424,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":112.181,"TIME":2.5524,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.716,"TIME":2.6131,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":93.2047,"TIME":2.62125,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":139.516,"TIME":2.68245,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.8083,"TIME":2.69045,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.599,"TIME":2.75139,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.9906,"TIME":2.75991,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.362,"TIME":2.82106,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.975,"TIME":2.82957,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":2.89044,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":91.0196,"TIME":3.46595,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":137.987,"TIME":3.52685,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.5388,"TIME":3.53493,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":139.458,"TIME":3.59586,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":91.4104,"TIME":3.60453,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.466,"TIME":3.6653,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":126.07,"TIME":3.67335,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":167.6,"TIME":3.73405,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":93.2047,"TIME":3.74201,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":3.80237,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":3.81101,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.89,"TIME":3.87133,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.166,"TIME":3.87957,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":135.412,"TIME":3.94064,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.293,"TIME":3.94919,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":4.0101,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":92.0779,"TIME":4.58329,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":140.078,"TIME":4.64469,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.5388,"TIME":4.65282,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.689,"TIME":4.71308,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.4731,"TIME":4.72176,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.577,"TIME":4.78213,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":142.095,"TIME":4.79034,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":182.836,"TIME":4.85109,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":4.85932,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":147.029,"TIME":4.92044,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.8083,"TIME":4.92869,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.036,"TIME":4.98941,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.385,"TIME":4.99794,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":136.462,"TIME":5.05847,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":121.247,"TIME":5.06762,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":5.12818,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":92.0779,"TIME":5.70298,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.168,"TIME":5.76291,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.5388,"TIME":5.77116,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.92,"TIME":5.83137,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.4731,"TIME":5.84003,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.689,"TIME":5.90103,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":161.326,"TIME":5.9091,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":199.161,"TIME":5.96955,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":5.97869,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.175,"TIME":6.03905,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":6.0474,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.108,"TIME":6.10825,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":106.473,"TIME":6.1168,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":136.462,"TIME":6.17762,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":123.882,"TIME":6.18651,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":6.24735,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.1947,"TIME":6.82103,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":144.259,"TIME":6.88141,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.7121,"TIME":6.8897,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.92,"TIME":6.95077,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.5358,"TIME":6.95939,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.689,"TIME":7.01974,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":179.489,"TIME":7.02794,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":216.573,"TIME":7.08874,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":7.09708,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":151.322,"TIME":7.15814,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.8083,"TIME":7.16615,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.181,"TIME":7.22661,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.561,"TIME":7.23537,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":137.511,"TIME":7.29538,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":125.2,"TIME":7.30417,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":7.3653,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.1947,"TIME":7.93981,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.304,"TIME":8.00062,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.9721,"TIME":8.0089,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.152,"TIME":8.07025,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":100.551,"TIME":8.07878,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.744,"TIME":8.13945,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":200.857,"TIME":8.1478,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":237.251,"TIME":8.20829,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":8.21676,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.395,"TIME":8.2777,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":8.28584,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.327,"TIME":8.34675,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.561,"TIME":8.35528,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":139.611,"TIME":8.41597,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":126.518,"TIME":8.42471,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":8.48581,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.253,"TIME":9.05959,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.35,"TIME":9.12074,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.9721,"TIME":9.12907,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.036,"TIME":9.18963,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":101.567,"TIME":9.19821,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":147.8,"TIME":9.25933,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":225.429,"TIME":9.26745,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":254.664,"TIME":9.3285,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":9.33668,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.541,"TIME":9.39744,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":88.8083,"TIME":9.4058,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.399,"TIME":9.46622,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.605,"TIME":9.47474,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":139.611,"TIME":9.53543,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":127.836,"TIME":9.54432,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":9.60523,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.253,"TIME":10.1828,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.35,"TIME":10.2439,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.319,"TIME":10.2522,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.383,"TIME":10.3125,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.598,"TIME":10.3212,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.856,"TIME":10.381,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":250.002,"TIME":10.3892,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":281.872,"TIME":10.4499,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":10.4582,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.541,"TIME":10.519,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":10.5272,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.472,"TIME":10.5876,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.692,"TIME":10.596,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":140.66,"TIME":10.6568,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":129.154,"TIME":10.6654,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":10.7257,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.253,"TIME":11.3006,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.35,"TIME":11.3611,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":105.405,"TIME":11.3693,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.383,"TIME":11.4296,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.598,"TIME":11.4381,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.856,"TIME":11.499,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":273.507,"TIME":11.5072,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":307.991,"TIME":11.5677,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":11.5762,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.614,"TIME":11.6364,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":11.6447,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.545,"TIME":11.7055,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.78,"TIME":11.7142,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.71,"TIME":11.7749,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":131.79,"TIME":11.784,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":11.8447,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.3114,"TIME":12.4192,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":147.395,"TIME":12.4802,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":106.492,"TIME":12.4888,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.499,"TIME":12.5491,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.614,"TIME":12.5575,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.912,"TIME":12.6188,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":302.353,"TIME":12.627,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":331.934,"TIME":12.6877,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":12.6959,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.688,"TIME":12.7564,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":12.7646,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.618,"TIME":12.8251,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.824,"TIME":12.8334,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.71,"TIME":12.8938,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":130.472,"TIME":12.9026,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":12.9637,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.3114,"TIME":13.538,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.44,"TIME":13.5989,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.579,"TIME":13.607,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.499,"TIME":13.6683,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.614,"TIME":13.6766,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.967,"TIME":13.7372,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":331.2,"TIME":13.7461,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":364.584,"TIME":13.8062,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":13.8146,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.761,"TIME":13.8755,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":13.8837,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.618,"TIME":13.9443,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.824,"TIME":13.9529,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.71,"TIME":14.0132,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":131.79,"TIME":14.022,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":14.0832,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":97.3698,"TIME":14.6599,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.44,"TIME":14.7199,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.579,"TIME":14.7279,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.614,"TIME":14.7889,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.614,"TIME":14.7975,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.967,"TIME":14.859,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":358.978,"TIME":14.8672,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":399.409,"TIME":14.9279,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":14.9362,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.761,"TIME":14.997,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":15.0054,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.618,"TIME":15.066,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.868,"TIME":15.0751,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.71,"TIME":15.1355,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":131.79,"TIME":15.1442,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":15.2049,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":97.3698,"TIME":15.7797,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.44,"TIME":15.8409,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.579,"TIME":15.8491,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.614,"TIME":15.9103,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.614,"TIME":15.9186,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.967,"TIME":15.979,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":389.961,"TIME":15.9871,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":439.677,"TIME":16.0482,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":16.0566,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.834,"TIME":16.1178,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":16.126,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.618,"TIME":16.1868,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":16.1951,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":16.2561,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":133.108,"TIME":16.265,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":131.543,"TIME":16.3269,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.4865,"TIME":16.9024,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.531,"TIME":16.9631,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.579,"TIME":16.9714,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":151.73,"TIME":17.0322,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.583,"TIME":17.0409,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.023,"TIME":17.1019,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":420.944,"TIME":17.1101,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":486.474,"TIME":17.1714,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":17.1801,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.834,"TIME":17.2409,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":17.2492,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.618,"TIME":17.3095,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":17.3181,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":141.71,"TIME":17.3792,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":133.108,"TIME":17.3881,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":17.4484,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.4865,"TIME":18.0241,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.486,"TIME":18.0849,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.665,"TIME":18.0928,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":151.73,"TIME":18.1535,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.583,"TIME":18.1631,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.079,"TIME":18.2235,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":454.064,"TIME":18.2317,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":530.006,"TIME":18.2924,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":94.2884,"TIME":18.3007,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.907,"TIME":18.3618,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":18.37,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.763,"TIME":18.431,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":18.4396,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":18.5006,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":133.108,"TIME":18.5094,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":18.5701,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.4865,"TIME":19.1454,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.486,"TIME":19.2064,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.665,"TIME":19.2146,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.846,"TIME":19.2755,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.598,"TIME":19.2841,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.079,"TIME":19.3452,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":486.116,"TIME":19.3535,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":585.51,"TIME":19.4147,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":19.4228,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.907,"TIME":19.4843,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":19.4926,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.763,"TIME":19.5533,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":19.5618,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":19.6223,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":134.426,"TIME":19.6313,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":19.6921,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.4865,"TIME":20.2657,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.531,"TIME":20.3264,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.579,"TIME":20.3348,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.846,"TIME":20.3952,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":105.63,"TIME":20.4038,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.079,"TIME":20.465,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":519.236,"TIME":20.4732,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":632.308,"TIME":20.5351,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":20.5435,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.907,"TIME":20.6041,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":20.6124,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.763,"TIME":20.6736,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":20.6822,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":20.7427,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":134.426,"TIME":20.7517,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":129.455,"TIME":20.8121,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":100.545,"TIME":21.3867,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.531,"TIME":21.4478,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.665,"TIME":21.4559,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.846,"TIME":21.517,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":106.645,"TIME":21.5257,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.134,"TIME":21.5865,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":554.492,"TIME":21.5945,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":689.988,"TIME":21.6551,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":21.6634,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.907,"TIME":21.7237,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":21.7319,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.763,"TIME":21.7925,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":21.8014,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":21.862,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":135.743,"TIME":21.8709,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":21.9321,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":100.545,"TIME":22.5073,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.531,"TIME":22.5677,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.752,"TIME":22.5759,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.077,"TIME":22.6372,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.598,"TIME":22.6458,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.134,"TIME":22.7068,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":587.612,"TIME":22.7153,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":746.58,"TIME":22.7759,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":22.7844,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.98,"TIME":22.8455,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":22.8537,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.836,"TIME":22.9141,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":22.9227,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":22.9829,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":135.743,"TIME":22.9918,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":23.0529,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":100.545,"TIME":23.6282,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":151.576,"TIME":23.6889,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.752,"TIME":23.6973,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.077,"TIME":23.7573,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.614,"TIME":23.7657,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.134,"TIME":23.8265,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":626.074,"TIME":23.8357,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":816.232,"TIME":23.8957,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":23.9041,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":162.054,"TIME":23.9653,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":23.9736,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.908,"TIME":24.0347,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":24.0432,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":24.104,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":137.061,"TIME":24.1129,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":24.1742,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":100.545,"TIME":24.7485,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":151.576,"TIME":24.8088,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.752,"TIME":24.8171,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.961,"TIME":24.8774,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":106.645,"TIME":24.8861,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.19,"TIME":24.9469,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":657.057,"TIME":24.9551,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":881.53,"TIME":25.0164,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":25.0246,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":162.054,"TIME":25.0849,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":89.841,"TIME":25.0935,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.908,"TIME":25.1534,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":118.999,"TIME":25.1619,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":25.2228,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":137.061,"TIME":25.2319,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":131.543,"TIME":25.2931,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.4865,"TIME":25.8675,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":151.576,"TIME":25.9279,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.839,"TIME":25.936,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.961,"TIME":25.9964,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":106.645,"TIME":26.0053,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.19,"TIME":26.0655,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":692.314,"TIME":26.0737,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":952.27,"TIME":26.1344,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":26.1428,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":162.054,"TIME":26.204,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":26.2124,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.908,"TIME":26.2734,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":26.2819,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":26.3426,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":135.743,"TIME":26.3513,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":26.4114,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.4865,"TIME":26.9863,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.622,"TIME":27.0469,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.925,"TIME":27.0553,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.961,"TIME":27.1162,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.661,"TIME":27.1252,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.19,"TIME":27.1867,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":727.571,"TIME":27.1949,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1020.83,"TIME":27.2569,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":27.2652,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":163.127,"TIME":27.3261,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":27.3343,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.908,"TIME":27.3953,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":118.999,"TIME":27.4037,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":142.76,"TIME":27.4646,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":27.4736,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":131.543,"TIME":27.5348,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":28.1101,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.622,"TIME":28.1704,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.099,"TIME":28.179,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.961,"TIME":28.2392,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":28.2482,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":28.3091,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":761.759,"TIME":28.3173,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1099.19,"TIME":28.3781,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":28.3867,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.2,"TIME":28.4475,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":28.456,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":28.5173,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":118.999,"TIME":28.5259,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":28.5867,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":141.015,"TIME":28.5957,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":28.657,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":29.2323,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.622,"TIME":29.2925,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.185,"TIME":29.3008,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.077,"TIME":29.3617,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.724,"TIME":29.3704,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":29.4315,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":797.016,"TIME":29.4396,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1167.76,"TIME":29.5001,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":29.5086,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":163.127,"TIME":29.5696,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":29.5781,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":29.6391,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":118.999,"TIME":29.6476,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":29.7093,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":29.7183,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":131.543,"TIME":29.7789,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":30.3543,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.667,"TIME":30.4147,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.185,"TIME":30.4229,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.077,"TIME":30.4833,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.724,"TIME":30.4921,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":30.553,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":831.204,"TIME":30.5616,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1248.29,"TIME":30.6224,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":30.6307,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.2,"TIME":30.6919,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":30.7002,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.908,"TIME":30.7615,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":120.043,"TIME":30.7704,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":144.859,"TIME":30.8306,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":30.8396,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":130.499,"TIME":30.9004,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":31.4745,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.667,"TIME":31.5354,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.099,"TIME":31.5439,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":31.6047,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":31.6137,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":31.6749,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":864.324,"TIME":31.6831,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1327.74,"TIME":31.7436,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":31.752,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.2,"TIME":31.8132,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":31.8215,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":31.8827,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":118.999,"TIME":31.8913,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":144.859,"TIME":31.9517,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":31.9608,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":131.543,"TIME":32.0218,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":32.5969,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":152.622,"TIME":32.6571,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.185,"TIME":32.6653,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.077,"TIME":32.7266,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":32.7353,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":32.7964,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":896.376,"TIME":32.8046,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1400.65,"TIME":32.8655,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":32.8739,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.2,"TIME":32.9345,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":32.9429,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":163.054,"TIME":33.0031,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":120.043,"TIME":33.0115,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":144.859,"TIME":33.0717,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":33.0807,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":131.543,"TIME":33.1421,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":33.7171,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.667,"TIME":33.7781,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.185,"TIME":33.7863,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":33.8467,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":33.8556,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":33.916,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":927.359,"TIME":33.9242,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1473.57,"TIME":33.985,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":33.9937,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":34.0548,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":34.0634,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":34.124,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":118.999,"TIME":34.1328,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":34.1938,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":34.2029,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":34.2638,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":34.8389,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.667,"TIME":34.8997,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.925,"TIME":34.9081,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.077,"TIME":34.9688,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":34.9776,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.302,"TIME":35.0383,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":961.547,"TIME":35.0466,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1546.49,"TIME":35.107,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":97.5397,"TIME":35.1154,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":35.1761,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":35.1848,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":35.2453,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":122.131,"TIME":35.2538,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":143.809,"TIME":35.3142,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":138.379,"TIME":35.3232,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.587,"TIME":35.3841,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.72,"TIME":35.9608,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.713,"TIME":36.0241,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.099,"TIME":36.0322,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":36.0925,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":36.1023,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.302,"TIME":36.1626,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":990.394,"TIME":36.171,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1624.85,"TIME":36.2319,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":36.2402,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":36.3013,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":36.3097,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":36.37,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.868,"TIME":36.3786,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.909,"TIME":36.4393,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":137.061,"TIME":36.4479,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":36.5081,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":37.0836,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":153.667,"TIME":37.1444,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.839,"TIME":37.1529,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":37.2138,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.677,"TIME":37.2224,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":37.2838,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1020.31,"TIME":37.2922,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1703.2,"TIME":37.3539,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":37.3621,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.2,"TIME":37.4225,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":37.4309,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.981,"TIME":37.4921,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":120.043,"TIME":37.5005,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":144.859,"TIME":37.5615,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":134.426,"TIME":37.5706,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.587,"TIME":37.6313,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":101.603,"TIME":38.2059,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.713,"TIME":38.2664,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.925,"TIME":38.275,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":38.335,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.677,"TIME":38.3437,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":38.4045,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1050.22,"TIME":38.4128,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1761.97,"TIME":38.4738,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":38.4823,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.2,"TIME":38.5437,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":38.552,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":163.054,"TIME":38.613,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":38.6217,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.909,"TIME":38.6821,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":138.379,"TIME":38.6913,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":38.7517,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":39.327,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":154.713,"TIME":39.3886,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.925,"TIME":39.3968,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":39.4576,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.677,"TIME":39.4664,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.357,"TIME":39.5277,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1079.07,"TIME":39.5357,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1825.09,"TIME":39.5961,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":39.605,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":39.6655,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":39.6741,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":163.054,"TIME":39.7355,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":39.744,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.909,"TIME":39.8046,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":39.8138,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":39.8748,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":101.603,"TIME":40.4484,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.758,"TIME":40.5087,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":40.517,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.193,"TIME":40.5777,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":40.5864,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.302,"TIME":40.647,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1105.78,"TIME":40.6554,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1879.51,"TIME":40.7173,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":97.5397,"TIME":40.7257,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":40.7868,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":40.7952,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":40.8556,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.868,"TIME":40.8644,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":145.909,"TIME":40.9246,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":40.9334,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":40.9945,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":41.5685,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":155.758,"TIME":41.6292,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":107.579,"TIME":41.6374,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.308,"TIME":41.6982,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":106.645,"TIME":41.7065,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.246,"TIME":41.7677,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1133.56,"TIME":41.7776,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":1944.81,"TIME":41.8382,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":41.8469,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":41.9079,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":41.9161,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":41.9772,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.824,"TIME":41.9857,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":42.0468,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":137.061,"TIME":42.0556,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.587,"TIME":42.1165,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":42.693,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":156.803,"TIME":42.7539,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.925,"TIME":42.762,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.308,"TIME":42.8228,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":42.8316,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.357,"TIME":42.892,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1160.27,"TIME":42.9003,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2003.58,"TIME":42.9614,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":42.9697,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":43.0304,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":43.0386,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":43.099,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":43.1075,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":43.168,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":43.1773,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":43.238,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":101.603,"TIME":43.8134,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.849,"TIME":43.8746,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":111.925,"TIME":43.8827,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.308,"TIME":43.9434,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.677,"TIME":43.9522,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.357,"TIME":44.0128,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1185.91,"TIME":44.0211,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2051.46,"TIME":44.0821,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":44.0904,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":44.1514,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":44.1602,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":44.2212,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":44.2298,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":44.2907,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":44.2996,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":44.3603,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":44.9367,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.894,"TIME":44.9975,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":45.0057,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.308,"TIME":45.0669,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":45.0756,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.302,"TIME":45.1365,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1210.48,"TIME":45.145,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2091.73,"TIME":45.2059,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":45.214,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.273,"TIME":45.2743,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":45.2829,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":45.3431,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":45.3517,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":45.4128,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":45.4216,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":45.4824,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.72,"TIME":46.0579,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.939,"TIME":46.1184,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":46.1265,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.424,"TIME":46.1865,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":46.1954,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.357,"TIME":46.2559,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1236.12,"TIME":46.2641,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2138.53,"TIME":46.3251,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":46.3334,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":46.3939,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":46.4023,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":46.463,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":46.4717,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.008,"TIME":46.5326,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":46.5415,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":46.602,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":47.1767,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":162.03,"TIME":47.2369,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":47.2452,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.424,"TIME":47.3062,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":47.315,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.413,"TIME":47.3756,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1258.56,"TIME":47.3842,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2176.62,"TIME":47.4448,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":47.4533,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":47.5137,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":47.522,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.127,"TIME":47.5824,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":47.5909,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":47.6514,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":47.6603,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":132.587,"TIME":47.7209,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":48.2967,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":162.03,"TIME":48.3568,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.099,"TIME":48.3654,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.308,"TIME":48.4264,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":48.4355,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.413,"TIME":48.4963,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1282.06,"TIME":48.5046,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2214.71,"TIME":48.5653,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":48.5737,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":167.42,"TIME":48.6344,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":48.6427,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.272,"TIME":48.7043,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":48.7129,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":48.7737,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":141.015,"TIME":48.7825,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.675,"TIME":48.8435,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.72,"TIME":49.4197,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":164.121,"TIME":49.4805,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":49.4891,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.424,"TIME":49.55,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":49.5587,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.413,"TIME":49.6205,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1306.64,"TIME":49.6285,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2244.09,"TIME":49.6888,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":49.6972,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":49.758,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":49.7662,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.199,"TIME":49.8269,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":49.8356,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":49.896,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":49.9051,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.675,"TIME":49.9661,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.662,"TIME":50.5407,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.211,"TIME":50.6012,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":50.6096,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.424,"TIME":50.6703,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.677,"TIME":50.679,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.413,"TIME":50.7395,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1325.87,"TIME":50.7478,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2273.48,"TIME":50.8087,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":50.8171,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":50.8777,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":50.8868,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.272,"TIME":50.9472,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":50.9561,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":51.016,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":51.0249,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":133.631,"TIME":51.086,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.72,"TIME":51.6602,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":167.257,"TIME":51.7212,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":114.099,"TIME":51.7295,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":157.308,"TIME":51.791,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.692,"TIME":51.7997,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.413,"TIME":51.8597,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1347.23,"TIME":51.868,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2300.69,"TIME":51.9288,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":51.9372,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":168.493,"TIME":51.9978,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":52.0061,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":165.199,"TIME":52.0671,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":52.0757,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":52.1369,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":141.015,"TIME":52.1459,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.675,"TIME":52.2068,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.72,"TIME":52.7832,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":169.348,"TIME":52.844,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":52.8522,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.424,"TIME":52.9129,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":52.922,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.469,"TIME":52.9832,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1369.67,"TIME":52.9917,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2320.27,"TIME":53.0526,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":53.0612,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.346,"TIME":53.1229,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":53.131,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.272,"TIME":53.1912,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":53.1997,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.008,"TIME":53.2603,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":53.2693,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.675,"TIME":53.3302,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.778,"TIME":53.9072,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":173.529,"TIME":53.9681,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":115.185,"TIME":53.9762,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":158.424,"TIME":54.0364,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":54.045,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.469,"TIME":54.1061,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1388.9,"TIME":54.1144,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2338.78,"TIME":54.1753,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":54.1837,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":168.493,"TIME":54.2443,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":54.2527,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.272,"TIME":54.3129,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":117.955,"TIME":54.3215,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":148.008,"TIME":54.3825,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":141.015,"TIME":54.3916,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.675,"TIME":54.4521,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":103.72,"TIME":55.0282,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":175.62,"TIME":55.0893,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":55.0976,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":159.54,"TIME":55.1587,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":110.708,"TIME":55.1674,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.469,"TIME":55.2287,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1409.2,"TIME":55.237,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2349.66,"TIME":55.2977,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":55.3058,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":168.493,"TIME":55.3662,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":55.3755,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":167.345,"TIME":55.4358,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":116.912,"TIME":55.4446,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.058,"TIME":55.505,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":139.697,"TIME":55.5139,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":134.675,"TIME":55.5753,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":104.778,"TIME":56.1504,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":179.801,"TIME":56.2112,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":113.012,"TIME":56.2191,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.655,"TIME":56.2796,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.677,"TIME":56.2884,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.524,"TIME":56.3495,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1431.64,"TIME":56.3578,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2373.6,"TIME":56.4185,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":56.4271,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":168.493,"TIME":56.4882,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":56.4966,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":166.272,"TIME":56.5575,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":121.087,"TIME":56.5661,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":146.959,"TIME":56.6276,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":130.472,"TIME":56.6362,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":136.763,"TIME":56.6968,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.253,"TIME":57.2711,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":183.982,"TIME":57.3354,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":101.059,"TIME":57.3503,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.655,"TIME":57.4155,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":99.5358,"TIME":57.4302,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":160.469,"TIME":57.4956,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1447.66,"TIME":57.5108,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2382.31,"TIME":57.5758,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.3722,"TIME":57.5905,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":169.566,"TIME":57.657,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":57.6718,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":167.345,"TIME":57.7364,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":109.605,"TIME":57.7514,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":149.058,"TIME":57.8167,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":131.79,"TIME":57.8284,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":136.763,"TIME":57.8893,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.253,"TIME":58.463,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":188.164,"TIME":58.5231,"TUBE":1},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":102.145,"TIME":58.5315,"TUBE":2},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":162.887,"TIME":58.5923,"TUBE":2},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":98.5201,"TIME":58.601,"TUBE":3},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":161.524,"TIME":58.6616,"TUBE":3},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":1464.76,"TIME":58.67,"TUBE":4},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":2395.37,"TIME":58.7308,"TUBE":4},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":96.456,"TIME":58.7392,"TUBE":5},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":169.566,"TIME":58.8004,"TUBE":5},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":90.8736,"TIME":58.8087,"TUBE":6},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":168.418,"TIME":58.8691,"TUBE":6},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":108.561,"TIME":58.8786,"TUBE":7},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":150.108,"TIME":58.9388,"TUBE":7},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":130.472,"TIME":58.9479,"TUBE":8},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":137.807,"TIME":59.0085,"TUBE":8},{"CHANNEL":2,"NAME":"Wild Fly","SIGNAL":95.253,"TIME":59.582,"TUBE":1},{"CHANNEL":3,"NAME":"GSS Female","SIGNAL":194.436,"TIME":59.6425,"TUBE":1}];
    var f;

    const sticky2 = d3.select("#chart svg")
      .append("g")
        .attr("class","tooltipexact")
        .style("opacity", "0.0");
    const sticky2Span = sticky2
      .append("text")
        .attr("class","tooltiptext")
        .attr("dy","-1em")
        .attr("text-anchor","end")
      .text("");
    const tooltip2 = d3.select("#chart svg")
      .append("g")
        .attr("class","tooltipexact")
        .style("opacity", "0.0");
    const tooltip2Span = tooltip2
      .append("text")
        .attr("class","tooltiptext")
        .attr("dy","-1em")
        .attr("text-anchor","end")
      .text("");

    dyenames = [
        [false, false, false, false, false],
        [false, "", "", "", ""], // tube 1
        [false, "", "", "", ""],
        [false, "", "", "", ""],
        [false, "", "", "", ""],
        [false, "", "", "", ""],
        [false, "", "", "", ""],
        [false, "", "", "", ""],
        [false, "", "", "", ""]  // tube 8
    ]; // placeholder structure

    // gather all the dye names for all tubes
    dyemap = d3.map();
    q.forEach(function(d) {
        // could test if there's a naming conflict, throw error to user
        dyenames[tubes(d)][dyes(d)] = dyes(d)+names(d);
        dyemap.set(dyes(d)+names(d),dyes(d));
    });

    var splt;
    var score;

    score = document.getElementById("score");
    splt=["Tube 1\nID DTWP_Male_1_Pestle_1\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n","Tube 2\nID DTWP_Male_1_Pestle_2\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n","Tube 3\nID DTWP_Male_1_Pestle_3\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n","Tube 4\nID DTWP_Male_1_Pestle_4\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: GSS Male (N/A)</li>\n</ul>\n","Tube 5\nID DTWP_Male_1_Pestle_5\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n","Tube 6\nID DTWP_Male_1_Pestle_6\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n","Tube 7\nID DTWP_Male_1_Pestle_7\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n","Tube 8\nID DTWP_Male_1_Pestle_8\n<ul style='background:#f9f9f9;'>\n<li style='background:#f9f9f9;'>Genotype</li>\n<li style='background:#f9f9f9;'>Dorsalis: ND (N/A)</li>\n</ul>\n"];
    

    var nav = d3.select("#navbar").selectAll("li");
    nav.on("mouseover", handleMouseOver)
        .on("mouseout", handleMouseOut)
        .on("click", handleMouseOver) // toggle, make big/small and orange
        .on("dblclick", handleMouseOver );

    function buildFilter( query ) {
        // these checkboxes track the state of which tubes are displayed
        // they are intentionally hidden from the user
        var filter = d3.select("#filter");
        var div = filter
          .append("div")
            .style("display", "none") // or "block" to see (debug)
            .style("margin-top", "350px")
            .style("margin-left", "100px");
        // hover/display state tn
        var theData = TUBEList;
        div.append("span").selectAll("input")
          .data(theData).enter()
          .append("input")
            .attr("id", d => "t"+d )
            .attr("type", "checkbox" )
            .property("checked", d => isEmpty(query) ? (d == lastHovered) : ( query['t'+d] == 1 ));
        // locked display state (both tn and ltn checked)
    };
//    buildFilter( query );

    function buildDropdowns( dyeNames, dyeQuery ) {
        var allTubes = TUBEList;
        if (samples) {
            allTubes.length = samples.length;
        };
        for (var j of allTubes) {
            var dd = d3.select("#dd"+j);
            if( !dd ) {
                break;
            };
            // special case
            dd.style("display", null);
            dd.selectAll("*").remove();
            for (var k of DYEList) {
                var name=dyeNames[j][k].substring(1);
                dd
                  .append("label")
                    .classed("cb-container noselect", true )
                    .classed("dot"+k, true )
                    .style("display", "none") // suppress these checkboxes
                  .html(name+"<span class=checkmark></span>")
                  .insert("input","span")
                    .attr("id", 't'+j+'d'+k )
                    .attr("name", "dp" )
                    .attr("type", "checkbox" )
//                    .property("checked", (dyeNames[j][k] != "")); // name, default checked
                    .property("checked", (dyeQuery[dyeNames[j][k]] != '0'));
            };
            if (!isEmpty(splt)) {
                var elt = dd.append("pre").append("b");
                elt.html(splt[j-1]);
            };
        };
        var dd0 = d3.select("#dd0");
        let ul;
        var ulli;
        if (notLive) {
            dd0.selectAll("*").remove();
            ul = dd0
              .append("ul").classed("vert", true );
            ulli = ul
              .append("li").classed("dropdown-submenu", true);
        } else {
            ul = dd0.append("ul").classed("vert", true );
            ul
              .append("li")
              .append( "a" )
                .classed("active", true )
                .attr( "href", ".." )
              .html( "<u>B</u>ACK" );
            ul
              .append("li")
              .append( "a" )
                .classed("active", true )
                .attr( "href", "data/" )
              .html( "<u>D</u>ATA" );
            ulli = ul.append("li").classed("dropdown-submenu", true);
        };

        rescaleToggle = function rescaleToggle() {
            const toggle = document.getElementById("myonoffswitch")
            autoRescale = !autoRescale;
            toggle.checked = autoRescale;
            setCookie("r", autoRescale ? "1" : "0");
            rescaleGraphForce();
        };

        ulli
          .append( "a" )
            .attr("id", "rescale")
            .classed("active", true )
            .style("cursor", "pointer" )
            .on("click", rescaleToggle)
          .html( "<u>R</u>ESCALE" );

        const resc = document.getElementById("rescale");
        resc.addEventListener("touchstart", function(e) {
            d3.select("#rescale").style("background-color", "#a6192e");
        });
        resc.addEventListener("touchend", function(e) {
            d3.select("#rescale").style("background-color", "#4CAF50");
        });

        var ullidiv = ulli
          .append("ul")
            .classed("dropdown-menu", true)
          .append("li")
          .append("div")
            .classed( "onoffswitch", true );
        ullidiv
          .append("input")
            .attr("type","checkbox")
            .attr("name","myonoffswitch")
            .attr("id","myonoffswitch")
            .property("checked", autoRescale )
            .on("change", function() {
                autoRescale = this.checked;
                setCookie("r", autoRescale ? "1" : "0");
                rescaleGraphForce();
            })
            .classed("onoffswitch-checkbox", true);
        ullidiv
          .append("label")
            .classed("onoffswitch-label", true)
            .attr("for","myonoffswitch")
          .html('<span class="onoffswitch-switch"></span>')
          .insert("span", "span")
            .classed("onoffswitch-inner", true);

        greyToggle = function greyToggle() {
            const toggle = document.getElementById("greyonoffswitch")
            noGrey = !noGrey;
            toggle.checked = !noGrey;
            setCookie("g", noGrey ? "1" : "0");
            cktube(lastHovered, true);
            handleMouseOver(null, lastHovered+1);
        };

        ulli = ul
          .append("li")
            .classed("dropdown-submenu", true);
        ulli
          .append( "a" )
            .attr("id", "grey")
            .classed("active", true )
            .style("cursor", "pointer" )
            .on("click", greyToggle)
          .html( "<u>G</u>REY" );

        ullidiv = ulli
          .append("ul")
            .classed("dropdown-menu", true)
          .append("li")
          .append("div")
            .classed( "onoffswitch", true );

        ullidiv
          .append("input")
            .attr("type","checkbox")
            .attr("name","greyonoffswitch")
            .attr("id","greyonoffswitch")
            .property("checked", !noGrey )
            .on("change", function() {
                noGrey = !this.checked;
                setCookie("g", noGrey ? "1" : "0");
                cktube(lastHovered, true);
                handleMouseOver(null, lastHovered+1);
            })
            .classed("onoffswitch-checkbox", true);
        ullidiv
          .append("label")
            .classed("onoffswitch-label", true)
            .attr("for","greyonoffswitch")
          .html('<span class="onoffswitch-switch"></span>')
          .insert("span", "span")
            .classed("onoffswitch-inner", true);

        scoreToggle = function scoreToggle() {
            const toggle = document.getElementById("scoreonoffswitch")
            const printScore = document.getElementById("print");
            const scoreonoff = document.getElementById("scoreonoffswitch");
            if (scoreonoff) {
                scoreonoff.checked = printScore.textContent != "";
            };
            let style;
            if (printScore.textContent == "") {
                style = "#printscore { display: block !important; }";
            } else {
                style = "";
            };
            printScore.textContent = style;
            noScore = style == "";
            toggle.checked = !noScore;
            setCookie('p', noScore ? "1" : "0");
        };

        ulli = ul
          .append("li")
            .classed("dropdown-submenu", true);
        ulli
          .append( "a" )
            .attr("id", "scoreSwitch")
            .classed("active", true )
            .style("cursor", "pointer" )
            .on("click", scoreToggle)
          .html( "<u>S</u>CORE" );

        ullidiv = ulli
          .append("ul")
            .classed("dropdown-menu", true)
          .append("li")
          .append("div")
            .classed( "onoffswitch", true );

        ullidiv
          .append("input")
            .attr("type","checkbox")
            .attr("name","scoreonoffswitch")
            .attr("id","scoreonoffswitch")
            .property("checked", !noScore )
            .on("change", function() {
                noScore = !this.checked;
                setCookie('p', noScore ? "1" : "0");
            })
            .classed("onoffswitch-checkbox", true);
        ullidiv
          .append("label")
            .classed("onoffswitch-label", true)
            .attr("for","scoreonoffswitch")
          .html('<span class="onoffswitch-switch"></span>')
          .insert("span", "span")
            .classed("onoffswitch-inner", true);

        if (!noScore) { scoreToggle(); };

        // FIT
        if (f) {
            /* if (!isMobile) */ {
                var newRow = document.createElement("tr");
                var newHead = document.createElement("th");
                var newData = document.createElement("td");
                var textnode1 = document.createTextNode("F");
                var textnode2 = document.createTextNode("Toggle display of fit curves");
                newHead.appendChild(textnode1);
                newData.appendChild(textnode2);
                newRow.appendChild(newHead);
                newRow.appendChild(newData);
                var helptbody = document.getElementById("helptbody");
                helptbody.insertBefore(newRow, helptbody.lastElementChild);

                fitToggle = function fitToggle() {
                    const toggle = document.getElementById("fitonoffswitch")
                    showFit = !showFit;
                    toggle.checked = showFit;
                    setCookie('f', showFit ? "1" : "0");
                    cktube(lastHovered, true);
                    handleMouseOver(null, lastHovered+1);
                };

                ulli = ul
                  .append("li")
                    .classed("dropdown-submenu", true);
                ulli
                  .append( "a" )
                    .attr("id", "fitSwitch")
                    .classed("active", true )
                    .style("cursor", "pointer" )
                    .on("click", fitToggle)
                  .html( "<u>F</u>IT" );

                ullidiv = ulli
                  .append("ul")
                    .classed("dropdown-menu", true)
                  .append("li")
                  .append("div")
                    .classed( "onoffswitch", true );

                ullidiv
                  .append("input")
                    .attr("type","checkbox")
                    .attr("name","fitonoffswitch")
                    .attr("id","fitonoffswitch")
                    .property("checked", showFit )
                    .on("change", function() {
                        showFit = !this.checked;
                        setCookie('f', showFit ? "1" : "0");
                    })
                    .classed("onoffswitch-checkbox", true);
                ullidiv
                  .append("label")
                    .classed("onoffswitch-label", true)
                    .attr("for","fitonoffswitch")
                  .html('<span class="onoffswitch-switch"></span>')
                  .insert("span", "span")
                    .classed("onoffswitch-inner", true);
            };
        };

        axisToggle = function axisToggle() {
            const toggle = document.getElementById("axisonoffswitch")
            yAxisSide = (yAxisSide == "left") ? "right" : "left";
            toggle.checked = (yAxisSide == "right");
            if (yAxisSide == "left") {
                d3.select(".y" ).style("visibility", "visible");
                d3.select(".y2").style("visibility", "hidden");
            };
            if (yAxisSide == "right") {
                d3.select(".y" ).style("visibility", "hidden");
                d3.select(".y2").style("visibility", "visible");
            };
            if (yAxisSide == "left") {
                margin = {
                    top: 10,
                    right: -40,
                    bottom: 40,
                    left: 60
                };
            } else if (yAxisSide == "right") {
                margin = {
                    top: 10,
                    right: 0,
                    bottom: 40,
                    left: 30
                };
            };
            d3.select("#graph")
                .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

            setCookie('s', yAxisSide );
//            cktube(lastHovered, true);
//            handleMouseOver(null, lastHovered+1);
        };

        ulli = ul
          .append("li")
            .classed("dropdown-submenu", true);
        ulli
          .append( "a" )
            .attr("id", "axisSwitch")
            .classed("active", true )
            .style("cursor", "pointer" )
            .on("click", axisToggle)
          .html( "<u>A</u>XIS" );

        ullidiv = ulli
          .append("ul")
            .classed("dropdown-menu", true)
          .append("li")
          .append("div")
            .classed( "onoffswitch", true );

        ullidiv
          .append("input")
            .attr("type","checkbox")
            .attr("name","axisonoffswitch")
            .attr("id","axisonoffswitch")
            .property("checked", (yAxisSide == "right"))
            .on("change", function() {
                axisToggle();
            })
            .classed("onoffswitch-checkbox", true);
        ullidiv
          .append("label")
            .classed("onoffswitch-label", true)
            .attr("for","axisonoffswitch")
          .html('<span class="onoffswitch-switch"></span>')
          .insert("span", "span")
            .classed("leftrightswitch-inner", true);

        mobileToggle = function mobileToggle() {
            const toggle = document.getElementById("mobileonoffswitch")
            isMobile = !isMobile;
            toggle.checked = isMobile;
            setCookie('m', isMobile ? "1" : "0");
            const gRect = d3.select("#gRect");
            if (isMobile) { gRect.raise(); } else { gRect.lower() };
            clearSticky();
            refresh();
//            doRefresh();
        };

        ulli = ul
          .append("li")
            .classed("dropdown-submenu", true);
        ulli
          .append( "a" )
            .attr("id", "mobile")
            .classed("active", true )
            .style("cursor", "pointer" )
            .on("click", mobileToggle)
          .html( "<u>M</u>OBILE" );

        ullidiv = ulli
          .append("ul")
            .classed("dropdown-menu", true)
          .append("li")
          .append("div")
            .classed( "onoffswitch", true );

        ullidiv
          .append("input")
            .attr("type","checkbox")
            .attr("name","mobileonoffswitch")
            .attr("id","mobileonoffswitch")
            .property("checked", isMobile )
            .on("change", function() {
                isMobile = this.checked;
                setCookie('m', isMobile ? "1" : "0");
                // doRefresh();
            })
            .classed("onoffswitch-checkbox", true);
        ullidiv
          .append("label")
            .classed("onoffswitch-label", true)
            .attr("for","mobileonoffswitch")
          .html('<span class="onoffswitch-switch"></span>')
          .insert("span", "span")
            .classed("onoffswitch-inner", true);

        d3.selectAll(".onoffswitch-switch") // butterfly switch
            .style("background", "#333333 url(" + butterfly +") no-repeat center center");
        ul
          .append("a")
            .classed("active", true)
            .style("cursor", "pointer")
            .on("click", help)
          .html("<u>H</u>ELP");
    };
    window.onload = function() {
	    /*
        lastHovered = 1;
        let option = getCookie("h");
        if (option) {
            if (+option) {
                lastHovered = +option;
            };
            firstHovered = lastHovered;
        };
        isHovered=true;
	    */
        buildFilter(query);
        buildDropdowns( dyenames, dyeQuery );
        buildLegend(dyemap, dyenames);
        setTubes();
        cktube(lastHovered, true);
        handleMouseOver(null, lastHovered+1);
    };

    xScale.domain([d3.min(q, xValue), 1 + d3.max(q, xValue)]);
    yScale.domain([d3.min(q, signals) - 50, 50 + d3.max(q, signals)]);
    xScale.domain([0, xScale.domain()[1] > 1+testDuration ? xScale.domain()[1] : 1+testDuration ]);
    if( yScale.domain()[0] < 0 ) {
        yScale.domain([0, yScale.domain()[1]]);
    };

    svg
      .append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + height + ")") // place x axis on the bottom
      .call(xAxis)
      .append("text")
        .attr("class", "label")
        .attr("x", width / 2)
        .attr("y", 50)
        .style("font-size", "16pt")
        .style("text-anchor", "middle").text("Time (minutes)");

    const leftaxis = svg
      .append("g")
         .attr("class", "y axis")
      .call(yAxis);
    const rightaxis = svg
      .append("g")
        .attr("class", "y2 axis")
        .attr("transform", "translate("+width+",0)")
      .call(y2Axis);
    if (yAxisSide == "left" ) {
        rightaxis.style("visibility", "hidden");
    } else if (yAxisSide == "right" ) {
        leftaxis.style("visibility", "hidden");
    } else if (yAxisSide != "both" ) { // "none"
        leftaxis.style("visibility", "hidden");
        rightaxis.style("visibility", "hidden");
    };
    let dots;
    let circles;

    /* if (isMobile) */ {
        var mline = d3.line().x(d => xMap(d)).y(d => sigMap(d)).curve(d3.curveNatural);
        var mlinesEnter = svg.append('g').attr("id","ismobile").attr("class", "lines");
        for (var j of TUBEList) {
            for (var k of DYEList) {
                mlinesEnter
                  .append('g')
                    .attr('id', 't'+j+'c'+k)
                    .attr('class', 'line')
                    .attr("display", j==lastHovered ? "inline" : "none")
                  .data([q.filter( d => tubes(d)==j && dyes(d)==k )])
                    .append('path').attr('class', 'line'+k).attr('d', d => mline(d));
            };
        };
	if (f) { // FIT
            var fline = d3.line().x(d => xMap(d)).y(d => sigMap(d)).curve(d3.curveLinear);
            for (var j of TUBEList) {
                for (var k of DYEList) {
                    mlinesEnter
                      .append('g')
                        .attr('id', 'mft'+j+'c'+k)
                        .attr('class', 'line')
                        .attr("display", j==lastHovered ? "inline" : "none")
                      .data([f.filter( d => tubes(d)==j && dyes(d)==k )])
                        .append('path').attr('class', 'fit line'+k).attr('d', d => fline(d));
                };
            };
        };
    } /*else*/ {
        var flinesEnter = svg.append('g').attr("id","notmobile").attr("class", "lines");
	if (f) { // FIT
            var fline = d3.line().x(d => xMap(d)).y(d => sigMap(d)).curve(d3.curveNatural);
            for (var j of TUBEList) {
                for (var k of DYEList) {
                    flinesEnter
                      .append('g')
                        .attr('id', 'ft'+j+'c'+k)
                        .attr('class', 'line')
                        .attr("display", j==lastHovered ? "inline" : "none")
                      .data([f.filter( d => tubes(d)==j && dyes(d)==k )])
                        .append('path').attr('class', 'fit line'+k).attr('d', d => fline(d));
                };
            };
        };
        // .dot1 corresponds to channel 1 (dye 488, blue), .dot2 corresponds to channel 2, and so on
//        dots = svg.append("g").classed("dots", true).selectAll(".dot");
	dots = flinesEnter.selectAll(".dot");
        dotsEnter = dots
          .data(q).enter()
          .append("g")
            .classed( "dot", true )
            .attr("transform", d => "translate("+xMap(d)+","+sigMap(d)+")");

        circles = dotsEnter
          .append("circle")
            .attr( "class", d => "dot" + dyes(d) + " tube" + tubes(d))
            .attr( "r", 8 );
        const numbers = dotsEnter
          .append("text")
          .text(d => tubes(d))
            .attr("dx", -4).attr("dy", 4) // fudge to center number in circle
            .style("fill", "white");
    };

    const hdot = svg
      .append("g")
        .classed("tooltipexact", true)
        .style("position", "relative")
        .style("fill", "black")
        .attr("display", "none");
    hdot
      .append("circle")
        .attr("r", 4.5);
    hdot
      .append("text")
        .style("font", "10pt sans-serif")
        .attr("text-anchor", "end")
        .attr("y", -8);
    const sdot = svg
      .append("g")
        .classed("tooltipexact", true)
        .style("position", "relative")
        .style("fill", "black")
        .attr("display", "none");
    sdot
      .append("circle")
        .attr("r", 4.5);
    sdot
      .append("text")
        .style("font", "10pt sans-serif")
        .attr("text-anchor", "end")
        .attr("y", -8);

    if (isMobile) {
        d3.select("#gRect").raise();
    };
    d3.select("#gRect").call(datumHover);

    var el = document.getElementById('transpRect');
    swipe = function swipe(swipedir) {
        // swipedir contains one of "none", "left", "right", "up", or "down"
        var nextHovered;
        switch( swipedir ) {
          case "left":
            nextHovered=lastHovered+1;
            break;
          case "right":
            nextHovered=lastHovered-1;
            break;
          case "none":
//            rescaleGraphForce();
//            refresh();
//            document.getElementById('d'+lastHovered).blur();
          default:
            return;
        };
        // if out of range of tubes, wrap around
        if (nextHovered < 1) {
            nextHovered = samples ? samples.length : 8;
        };
        if (nextHovered > (samples ? samples.length : 8)) {
            nextHovered = 1;
        };
        cktube(lastHovered, false);
        handleMouseOut(null, lastHovered+1);
        cktube(nextHovered, true); // lastHovered becomes nextHovered
        handleMouseOver(null, nextHovered+1);
        tooltip.transition().duration(dur).style("opacity", 0.0);
        horizontalLine.transition().attr("opacity", 0);
        verticalLine.transition().attr("opacity", 0);
        clearSticky();
    };

    swipedetect(el, swipe);

    function keypress(k) {
        function checkOrLock(tube) {
            if (samples && tube > samples.length) {
                return;
            };
            if (lastHovered != tube) {
                cktube( tube, true );
            } else {
                lktube(tube);
            };
        };

        if( k.ctrlKey || k.altKey || k.metaKey || k.shiftKey || k.repeat ) { return; };

        switch(k.key) {
          case "1": checkOrLock(1); break;
          case "2": checkOrLock(2); break;
          case "3": checkOrLock(3); break;
          case "4": checkOrLock(4); break;
          case "5": checkOrLock(5); break;
          case "6": checkOrLock(6); break;
          case "7": checkOrLock(7); break;
          case "8": checkOrLock(8); break;

          case "0": ulktube(lastHovered); break;

          case " ": lktube(lastHovered); break;

          case "ArrowUp": case "ArrowDown":
            let checking = k.key == "ArrowUp"; // Up == checking, Down == clearing
            for (let j of TUBEList) {
                const nav = document.getElementById('nav' + j);
                if (!nav) {
                    break;
                };
                const cb = document.getElementById("t" + j);
                const cb2 = document.getElementById("lt" + j);
                if( !cb || !cb2 ) {
                    break;
                };
                cb2.checked = checking;
                cb.checked = checking;
                nav.style.color = cb2.checked ? "orange" : "white";
            };
            if (!checking) {
                // if we're unchecking everything, the lastHovered tube MUST be hovered
                // consequence: when checking again, the lastHovered tube REMAINS hovered
                cktube(lastHovered, true);
                firstHovered = 0;
            };
            setTubeCookie();
            rescaleGraph();
            break;

          case "n": case "ArrowRight": swipe("left");  break;
          case "p": case "ArrowLeft":  swipe("right"); break;

          case "Home": case "PageUp":   cktube(1, true); break;
          case "End":  case "PageDown": cktube(samples ? samples.length : 8, true); break;

          case "b": window.location.assign("../"); break;
          case "d": window.location.assign("data/"); break;
          case "r":
            rescaleToggle();
            break;
          case "g":
            greyToggle();
            return;
          case "m":
            mobileToggle();
            return;
          case "s":
            scoreToggle();
            return;
          case "a":
            axisToggle();
            return;
          case "f": // FIT
            if (f) {
                fitToggle();
            };
            return;
          case "h":
            help();
            return;
          case "c":
            d3.select("#cookie").text(document.cookie);
            const Alert = d3.select("#alert");
            Alert.classed("active", !Alert.classed("active"));
            return;
          case "k":
            if (confirm("Really clear my cookies?")) {
                clearAllCookies();
            };
            return;

          default: return;
        };
        handleMouse(null, lastHovered+1, isHovered);
    };

    document.getElementById("body").addEventListener("keydown", keypress );
    document.body.focus();

    // ,,consider template strings instead of "ham" + "eggs". (freecodecamp.org and google js style guide)
    function tooltipText(d) {
        return "<b>" + signals(d) + "AU</b>&nbsp;&nbsp;" +
//            ( samples ? samples[tubes(d)-1].id : tubes(d) ) +
//            "&nbsp;&nbsp;(" + names(d) + ")&nbsp;&nbsp;" +
            parseFloat(d[tim]).toFixed(1) + "min";
    };
    function tooltip2Text(d) {
        return signals(d) + "AU  " +
//            ( samples ? samples[tubes(d)-1].id : tubes(d) ) +
//            "  (" + names(d) + ")  " +
            parseFloat(d[tim]).toFixed(1) + "min";
    };
    /* if (!isMobile) */ {
        dotsEnter
            .on("mouseout", function(d) {
                tooltip2Span.text("");
                tooltip.transition().duration(dur).style("opacity", 0.0);
                horizontalLine.transition().attr("opacity", 0);
                verticalLine.transition().attr("opacity", 0);
            })
            .on("mouseover", function(d) {
//                tooltip2.style("opacity","1.0").style("color","white");
                var tooltip2Parent = tooltip2.node().parentElement;
                var tooltipMatrix = this.getTransformToElement(tooltip2Parent)
                    .translate(+this.getAttribute("cx"), +this.getAttribute("cy"));
                tooltip2.attr("transform", "translate(" + (tooltipMatrix.e) + "," + (tooltipMatrix.f) + ")");

                tooltip2Span.text(function() {
                    var tip = tooltip2Text(d);
                    if (stickySignal) {
                        var delta = signals(d) - stickySignal;
                        tip += ", delta= " + delta.toFixed(0);
                    };
                    return tip;
                });

                tooltipSpan.html(function() {
                    var tip = tooltipText(d);
                    if (stickySignal) {
                        var delta = signals(d) - stickySignal;
                        tip += ", delta= " + delta.toFixed(0);
                    };
                    return tip;
                });
                nonstickyDot = d;
                nonstickyThis = this;
                var rect=this.getBoundingClientRect();
                tooltip.transition()
                    .style("opacity", 1.0 )
                    .style("left", rect.left + "px")
                    .style("top", rect.top + "px");
                if (rect.left*2 < window.innerWidth)
                {
                    tooltipSpan.classed("right", true);
                    tooltip2Span.style("text-anchor", "start" ).attr("dy","1em");
                } else {
                    tooltipSpan.classed("right", false);
                    tooltip2Span.style("text-anchor", "end" ).attr("dy","-1em");
                };
                horizontalLine.transition()
                    .attr("y1", yScale(signals(d)))
                    .attr("y2", yScale(signals(d)))
                    .attr("opacity", 1);
                verticalLine.transition()
                    .attr("x1", xScale(xValue(d)))
                    .attr("x2", xScale(xValue(d)))
                    .attr("opacity", 1);
            })
            .on("click", function(d) {
//                sticky2.style("opacity","1.0").style("color","white");
                var sticky2Parent = sticky2.node().parentElement;
                var stickyMatrix = this.getTransformToElement(sticky2Parent)
                    .translate(+this.getAttribute("cx"), +this.getAttribute("cy"));
                sticky2.attr("transform", "translate(" + (stickyMatrix.e) + "," + (stickyMatrix.f) + ")");
                sticky2Span.text( tooltip2Text(d) );
                tooltip2.transition().style("opacity", 0.0);

                tooltip.transition().style("opacity", 0.0);
                stickySignal = signals(d);
                stickyTime = xValue(d);
                stickyDot = d;
                stickyThis = this;
                stickySpan.html( tooltipText(d) );
                var rect=this.getBoundingClientRect();
                sticky.transition().style("opacity", 1.0)
                    .style("left", rect.left + "px")
                    .style("top", rect.top + "px");
                if( rect.left*2 < window.innerWidth )
                {
                    stickySpan.classed("right", true);
                    sticky2Span.style("text-anchor", "start" ).attr("dy","1em");
                } else {
                    stickySpan.classed("right", false);
                    sticky2Span.style("text-anchor", "end" ).attr("dy","-1em");
                };
                stickyHorizontalLine.transition()
                    .attr("y1", yScale(signals(d)))
                    .attr("y2", yScale(signals(d)))
                    .attr("opacity", 1);
                stickyVerticalLine.transition()
                    .attr("x1", xScale(xValue(d)))
                    .attr("x2", xScale(xValue(d)))
                    .attr("opacity", 1);
            })
            .on("dblclick", clearSticky );
    };

    if (!isHovered) {
        handleMouseOut(null, lastHovered+1);
    } else {
        handleMouseOver(null, lastHovered+1);
    };
    if (isEmpty(query)) {
        d3.select("#d"+lastHovered).style("background-color", "#a6192e" );
        menuWithFocus.focus();
    };

    var legendWidth;
    if( !legendHidden ) {
        legendWidth = d3.select("#legend").style('width');
    };

    function legendShowHide() {
        legendHidden = !legendHidden;
        var legend = d3.select('#legend');
        legend.style('width', legendHidden ? '20px' : legendWidth )
          .selectAll('div')
            .style('display', legendHidden ? 'none' : 'block');
    };

    function tubeStates(name) {
        var states = [false];
        for (var k in samples) {
            var kk = +k + 1;
            const namekk = document.getElementById(name+kk);
            if (namekk) {
                states.push(namekk.checked);
            };
        };
        return states;
    };

    function visTubeCount() {
        var states = tubeStates("lt");
        var i = 0;
        for (var k in states) {
            if (states[k]) { i++; };
        };
        if (i == 0) {
            return 1; // if no tubes are locked, only one hovered tube is visible
        };
        return i;
    };

    function tubesAndDyes() {
        // gather the state of the checkboxes
        var tds = [
            [false, false, false, false, false],
            [false, "", "", "", ""], // tube 1
            [false, "", "", "", ""],
            [false, "", "", "", ""],
            [false, "", "", "", ""],
            [false, "", "", "", ""],
            [false, "", "", "", ""],
            [false, "", "", "", ""],
            [false, "", "", "", ""]  // tube 8
        ];
        for (var j of TUBEList) {
            for (var k of DYEList) {
                var cb = document.getElementById('t'+j+'d'+k);
                tds[j][k] = cb ? cb.checked : false;
            };
        };
        return tds;
    };

    function isLocked(lts) {
        for (let l in lts) {
            if (lts[l]) {
                return true;
            };
        };
        return false;
    };

    var tds = tubesAndDyes();
    var ts = tubeStates("t");
    var lts = tubeStates("lt");

    // if legend says this is visible and tube is visible, show, else hide
    function visibles(d) {
//        function isTrue(check) { return check; };
        const locked = isLocked(lts);
        return tds[tubes(d)][dyes(d)] &&
            ( ts[tubes(d)] || ( !locked && tubes(d)==lastHovered ));
    };
    function visiblesD(d) {
        return visibles(d) ? d : undefined;
    };

    function visTimes(d) {
        return visibles(d) ? xValue(d) : undefined;
    };
    function visSignals(d) {
        return visibles(d) ? signals(d) : undefined;
    };

    function rescaleGraphForce() {
        tds = tubesAndDyes();
        ts = tubeStates("t");
        lts = tubeStates("lt");
        var new_xScale = d3.scaleLinear().range([0, width]);
        var new_yScale = d3.scaleLinear().range([height, 0]);
        if (!autoRescale) {
            new_xScale.domain([ d3.min(q, xValue), 1 + d3.max(q, xValue)]);
            new_yScale.domain([ d3.min(q, signals) - 50, 50 + d3.max(q, signals)]);
        } else {
            new_xScale.domain([ d3.min(q, visTimes), 1 + d3.max(q, visTimes)]);
            new_yScale.domain([ d3.min(q, visSignals) - 50, 50 + d3.max(q, visSignals)]);
        };
        if (!isNaN(new_xScale.domain()[0]) && isFinite(new_xScale.domain()[0]) &&
            !isNaN(new_xScale.domain()[1]) && isFinite(new_xScale.domain()[1])) {
            xScale.domain([0,new_xScale.domain()[1]]);
        };
        if (!isNaN(new_yScale.domain()[0]) && isFinite(new_yScale.domain()[0]) &&
            !isNaN(new_yScale.domain()[1]) && isFinite(new_yScale.domain()[1])) {
            if (new_yScale.domain()[0] < 0) {
                yScale.domain([0, new_yScale.domain()[1]]);
            } else {
                yScale = new_yScale;
            };
        };
        xScale.domain([0, xScale.domain()[1] > 1+testDuration ? xScale.domain()[1] : 1+testDuration ]);
        refresh();
        zoomed = false;
    };
    function rescaleGraph() {
        if (autoRescale) {
            rescaleGraphForce();
        } else {
            refresh();
        };
    };

    function buildLegend( dyeMap, dyeNames ) {
        var l = 1;
        var output = document.getElementById("output");
        if( output ) {
            var outputHTML = output.innerHTML;
        };
        d3.select("#legend").selectAll("*").remove();

        const isOpera = !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;
        const isWebkit = 'WebkitAppearance' in document.documentElement.style;
        const isFirefox = typeof InstallTrigger !== 'undefined';
        const isChrome = !!window.chrome && !isOpera;
        if (isWebkit) {
            d3.select("#legend")
                .style("width", legendHidden ? '20px' : '-webkit-fit-content' );
        } else if (isFirefox) {
            d3.select("#legend")
                .style("width", legendHidden ? '20px' : '-moz-fit-content' );
        } else if (isChrome) {
            d3.select("#legend")
                .style("width", legendHidden ? '20px' : 'fit-content' );
        } else {
            d3.select("#legend")
                .style("width", legendHidden ? '20px' : '180px' );
        };

        d3.select("#legend")
          .append("span")
            .attr("id","butterfly")
            .on("dblclick", doURLRefresh )
            .on("click", legendShowHide )
          .append("img")
            .attr("src",butterfly)
            .attr("width", butterflyDim[0] )
            .attr("height", butterflyDim[1] );
        d3.select("#legend")
          .append("span")
            .attr("id", "output");
        if (output) {
            d3.select("#output").html(outputHTML);
        };
        d3.select("#legend")
          .append("div")
            .attr("id", "scroll" );
        dyeMap.each( function( v, k ) {
            d3.select("#scroll")
              .append("div")
                .style( "display", legendHidden ? "none" : "block" )
              .append("label")
                .classed("cb-container noselect", true )
                .classed("dot"+v, true )
              .html( k.substring(1) + "<span class=checkmark></span>")
              .insert("input","span")
                .attr("id", "l"+l )
                .attr("name", "d" )
                .attr("value", k )
                .attr("type", "checkbox" )
                .property("checked", dyeState( k, dyeNames ));

            l++;
        });

        if( !legendHidden ) {
            legendWidth = d3.select("#legend").style('width');
        };

        // dragging of legend by butterfly handle
        d3.mouse.absolute = function() {
            var htmlNode = d3.select('html').node();
            var a = this(htmlNode);
            return a;
        };
        var div = d3.select("#butterfly").call(
            d3.drag()
                .on('start.interrupt', function () {
                    div.interrupt();
                })
                .on('drag start', function() {
                    var absMouse = d3.mouse.absolute();
                    d3.select("#legend")
                        .style('left', constrainLegend( absMouse[0]-butterflyDim[0]/2, true ) + 'px' )
                        .style('top', constrainLegend( absMouse[1]-butterflyDim[1]/2, false ) + 'px' );
                })
        );

        // clicks on master legend
        d3.selectAll("[name=d]")
            .on("change", function() {
                var selected = this.value;
                var display = this.checked ? "inline" : "none";
                ts = tubeStates("t");
                lts = tubeStates("lt");
                var locked = isLocked(lts);

                // ensure all identically named checkbuttons share same state as this
                var cb = "";
                for (var j of TUBEList) {
                    for (var k of DYEList) {
                        if (dyeNames[j][k] == selected) {
                            cb = document.getElementById('t'+j+'d'+k);
                            if (cb) {
                                cb.checked = this.checked;
                            };
                        };
                    };
                };
                // refilter the graph to the new state
                /* if( isMobile ) */ {
                    tds = tubesAndDyes();

                    mlinesEnter.selectAll(".line").attr("display", "none");
                    if (!locked && (d => tubes(d)==lastHovered))
                    {
                        let j = lastHovered;
                        for (let k of DYEList) {
                            if (tds[j][k]) {
                                mlinesEnter.select('#t'+j+'c'+k).attr("display", "inline" );
                            };
                        };
                    } else if (locked) {
                        for (let j of TUBEList) {
                            for (let k of DYEList) {
                                mlinesEnter.select('#t'+j+'c'+k)
                                    .attr("display", lts[j] && tds[j][k] ? "inline" : "none" );
                            };
                        };
                    };
                /* } else { */
                    tds = tubesAndDyes();

                    flinesEnter.selectAll(".line").attr("display", "none");
                    if (f && showFit) { // FIT
                        if (!locked && (d => tubes(d)==lastHovered))
                        {
                            let j = lastHovered;
                            for (let k of DYEList) {
                                if (tds[j][k]) {
                                    flinesEnter.select('#ft'+j+'c'+k).attr("display", "inline" );
                                    mlinesEnter.select('#mft'+j+'c'+k).attr("display", "inline" );
                                };
                            };
                        } else if (locked) {
                            for (let j of TUBEList) {
                                for (let k of DYEList) {
                                    flinesEnter.select('#ft'+j+'c'+k)
                                        .attr("display", lts[j] && tds[j][k] ? "inline" : "none" );
                                    mlinesEnter.select('#mft'+j+'c'+k)
                                        .attr("display", lts[j] && tds[j][k] ? "inline" : "none" );
                                };
                            };
                        };
                    };
                    dotsEnter.filter( d => ( ts[tubes(d)] ||
                                             (!locked && tubes(d)==lastHovered)
                                           ) && selected == dyes(d)+names(d) )
                        .attr("display", display);
                };
                rescaleGraph();
                setDyeCookies();
            });

//        setDyeCookies();
    }; // buildLegend()

    function handleMouse(d, index, over) {
        // index is tube number (zero-based index of li in navbar)
        var j, k;
        var tube = index - 1;
        if (tube < 1) {
            return;
        };
        if (tube > (samples ? samples.length : 8)) {
            return;
        };

        // ensure all identically named checkbuttons share same state as this
        // still needed for Web Archive/notLive true for legend initial state
        var cb, cb2;
        for (let j of TUBEList) {
            if (j != tube) {
                for (let k of DYEList) {
                    if (dyenames[j][k] == dyenames[tube][k]) {
                        cb = document.getElementById('t'+j+'d'+k);
                        cb2= document.getElementById('t'+tube+'d'+k);
                        if( cb && cb2 ) {
                            cb.checked = cb2.checked;
                        };
                    };
                };
            };
        };
        d3.selectAll("[name=d]").each( function() {
            var l = d3.select(this);
            for (j of TUBEList) {
                for (var k of DYEList) {
                    if (dyenames[j][k] == l.property("value")) {
                        cb = document.getElementById('t'+j+'d'+k);
                        if( cb ) {
                            this.checked = cb.checked;
                        };
                    };
                };
            };
        });

        // clear sticky tooltip on tube hover
        //clearSticky();

        tds = tubesAndDyes();
        ts = tubeStates("t");
        lts = tubeStates("lt");

        // gather all the dye names for all visible tubes
        dyemap = d3.map();
        dotsEnter.filter( d => ts[tubes(d)])
            .each(function(d) {
                dyemap.set(dyes(d)+names(d),dyes(d));
            });
        if (!isLocked(ts)) {
            dotsEnter.filter(d => lastHovered == tubes(d))
                .each(function(d) {
                    dyemap.set(dyes(d)+names(d),dyes(d));
                });
        };

        buildLegend( dyemap, dyenames );

        /* if (isMobile) { */
            mlinesEnter.selectAll(".line")
                .attr("display", "none" );
        /* } else */ if (f) {
            // FIT
            flinesEnter.selectAll(".line")
                .attr("display", "none" );
        };
        dotsEnter
            .attr("display", d => visibles(d) ? "inline" : "none" );

        /* if (!isMobile) */ {
            if (f && showFit) { // FIT
                if (over) {
                    for (let t of TUBEList) {
                        for (let c of DYEList) {
                            if (noGrey && t != tube) {
                                flinesEnter.select('#ft'+t+'c'+c)
                                    .classed( "hover", t == tube )
                                    .classed( "nohover", false )
                                    .attr("display", ts[t] && tds[t][c] ? 'inline' : 'none' );
                                mlinesEnter.select('#mft'+t+'c'+c)
                                    .classed( "hover", t == tube )
                                    .classed( "nohover", false )
                                    .attr("display", ts[t] && tds[t][c] ? 'inline' : 'none' );
                            } else {
                                flinesEnter.select('#ft'+t+'c'+c)
                                    .classed( "hover", t == tube )
                                    .classed( "nohover", t != tube && lts[tube] )
                                    .attr("display", ts[t] && tds[t][c] ? 'inline' : 'none' );
                                mlinesEnter.select('#mft'+t+'c'+c)
                                    .classed( "hover", t == tube )
                                    .classed( "nohover", t != tube && lts[tube] )
                                    .attr("display", ts[t] && tds[t][c] ? 'inline' : 'none' );
                            };
                        };
                    };
                } else if (!isLocked(ts)) {
                    for (let c of DYEList) {
                        flinesEnter.select('#ft'+lastHovered+'c'+c)
                            .classed( "hover", true )
                            .classed( "nohover", false )
                            .attr("display", 'inline' );
                        mlinesEnter.select('#mft'+lastHovered+'c'+c)
                            .classed( "hover", true )
                            .classed( "nohover", false )
                            .attr("display", 'inline' );
                    };
                } else {
                    for( tube of TUBEList ) {
                        for (let c of DYEList ) {
                            flinesEnter.select('#ft'+tube+'c'+c)
                                .classed( "hover", false )
                                .classed( "nohover", false )
                                .attr("display", ts[tube] && tds[tube][c] ? 'inline' : 'none' );
                            mlinesEnter.select('#mft'+tube+'c'+c)
                                .classed( "hover", false )
                                .classed( "nohover", false )
                                .attr("display", ts[tube] && tds[tube][c] ? 'inline' : 'none' );
                        };
                    };
                };
            };
            flinesEnter.selectAll(".line.hover").raise();

            if (noGrey && over) {
                dotsEnter
                    .classed("nohover", false)
                    .classed("hover", !over);
            } else {
                dotsEnter
                    .classed("nohover", over && lts[tube])
                    .classed("hover", !over);
            };
            circles.attr("r", 8);

            if (over) {
                dotsEnter.filter( d => tube == tubes(d) )
                    .classed("nohover", false)
                    .classed("hover", true);
                circles.filter( d => tube == tubes(d) )
                    .attr("r", 10 );
            } else if (!isLocked(ts)) {
                dotsEnter.filter( d => lastHovered == tubes(d) )
                    .classed("nohover", false)
                    .classed("hover", true);
                circles.filter( d => lastHovered == tubes(d) )
                    .attr("r", 10 );
            };
            d3.selectAll(".dot.hover").raise();
        }/* else */{ // isMobile
            if (over) {
                for (let t of TUBEList) {
                    for (let c of DYEList) {
                        if (noGrey && t != tube) {
                            mlinesEnter.select('#t'+t+'c'+c)
                                .classed( "hover", t == tube )
                                .classed( "nohover", false )
                                .attr("display", ts[t] && tds[t][c] ? 'inline' : 'none' );
                        } else {
                            mlinesEnter.select('#t'+t+'c'+c)
                                .classed( "hover", t == tube )
                                .classed( "nohover", t != tube && lts[tube] )
                                .attr("display", ts[t] && tds[t][c] ? 'inline' : 'none' );
                        };
                    };
                };
                mlinesEnter.selectAll(".hover").raise();
            } else if (!isLocked(ts)) {
                for (let c of DYEList) {
                    mlinesEnter.select('#t'+lastHovered+'c'+c)
                        .classed( "hover", true )
                        .classed( "nohover", false )
                        .attr("display", 'inline' );
                };
            } else {
                for( tube of TUBEList ) {
                    for (let c of DYEList ) {
                        mlinesEnter.select('#t'+tube+'c'+c)
                            .classed( "hover", false )
                            .classed( "nohover", false )
                            .attr("display", ts[tube] && tds[tube][c] ? 'inline' : 'none' );
                    };
                };
            };
        };
        rescaleGraph();
    }; // handleMouse()

    function handleMouseOver(d, index) {
        var j = index - 1; // j == lastHovered
        if (j == 0) {
            handleMouse(d, index, true );
        };
        if (j < 1) {
            return;
        };
        if (firstHovered > 0 && isHovered) {
            const first = document.getElementById("t"+firstHovered);
            if (first) {
                document.getElementById("t"+firstHovered).checked = true;
                firstHovered = 0;
            };
        };
        if (menuWithFocus) {
            if (document.getElementById('d'+j)) {
                menuWithFocus.blur();
                menuWithFocus = document.getElementById('d'+j);
                menuWithFocus.focus();
            };
            firstHovered = 0;
        };
        isHovered = true;
        handleMouse(d, index, true );
    };

    function handleMouseOut(d, index) {
        if (menuWithFocus) {
            menuWithFocus.blur();
            menuWithFocus = document.getElementById('d'+(index-1));
        };
        for (var j of TUBEList) {
            let cb2 = document.getElementById("lt"+j);
            if (!cb2) {
                break;
            };
            if (cb2.checked) {
                handleMouse(d, index, false);
                break;
            };
        };
        isHovered = false;
    };
//    }); // d3.csv
};

function dyeStates( dyeNames ) {
    var j = 1;
        for (var k of DYEList) {
                var cb = document.getElementById('t'+j+'d'+k);
                if (cb) {
                    console.log("dyeNames["+j+"]["+k+"] "+ cb.checked);
                };
        };
};

function dyeState( name, dyeNames ) {
    for (var j of TUBEList) {
        for (var k of DYEList) {
            if (dyeNames[j][k] == name) {
                var cb = document.getElementById('t'+j+'d'+k);
                if (cb) {
                    return cb.checked;
                };
            };
        };
    };
    return false;
};

function uncheckDye( dyeQuery, dyeNames ){
    for (var j of TUBEList) {
        for (var k of DYEList) {
            var cb = document.getElementById('t'+j+'d'+k);
            if (cb) {
                if (dyeQuery[dyeNames[j][k]] == '0') {
                    cb.checked = false;
		} else {
                    cb.checked = true;
                };
            };
        };
    };
};

function fetchHeader(url, wch) {
    try {
        var req=new XMLHttpRequest();
        req.open("HEAD", url, false);
        req.send(null);
        if (req.status== 200) {
            return req.getResponseHeader(wch);
        };
        return false;
    } catch(er) {
        return er.message;
    };
};

function setDyeCookies() {
    dyemap.each( function( v, k ) {
        if (!dyeState( k, dyenames )) {
            setCookie("d"+k, "0");
	} else {
            clearCookie("d"+k);
        };
    });
};

function setCookies() { // could also be used to generate a bookmark link
    setTubeCookie();
    setDyeCookies();

    var legendX = d3.select("#legend").style('left');
    var legendY = d3.select("#legend").style('top');
    setCookie("x", legendX);
    setCookie("y", legendY);

    setCookie("l", legendHidden ? "0" : "1");
    if (lastHovered != 1) {
        setCookie("h", lastHovered);
    } else {
        clearCookie("h");
    };
    setCookie("i", isHovered ? "1" : "0");
    setCookie("a", dur);
    setCookie("s", yAxisSide);
    setCookie("r", autoRescale ? "1" : "0");
    setCookie("m", (isMobile ? "1" : "0"));
    setCookie("g", noGrey ? "1" : "0");
    setCookie("p", noScore ? "1" : "0");
    setCookie("f", showFit ? "1" : "0");
};

function calcTubeHex() {
    var bits = "";
    // tube 8 is most significant bit, tube 1 least significant bit
    var list = TUBEList;
    for (var i of list) {
        var lt = document.getElementById("lt"+i);
        bits = (lt ? (lt.checked ? '1' : '0') : '0') + bits;
    };
    var hex = parseInt(bits,2).toString(16);
    return hex;
};

function buildURL() { // could also be used to generate a bookmark link
    var url = window.location.protocol + "//" + window.location.host + window.location.pathname;
    var params = "";

    const hex = calcTubeHex();
    if (hex != '0')
    {
        params += "&t=" + hex;
    };

    dyemap.each( function( v, k ) {
        if (!dyeState( k, dyenames )) {
            params += "&d" + k + "=0";
        };
    });

    var legendX = d3.select("#legend").style('left');
    var legendY = d3.select("#legend").style('top');
    params += "&x=" + legendX + "&y=" + legendY;

    if (legendHidden) {
        params += "&l=0";
    };

    if (lastHovered != 1) {
        params += "&h="+lastHovered;
    };

    if (!isHovered) {
        params += "&i=0";
    };

    if (dur != DefaultDUR) {
        params += "&a="+dur;
    };

    if (yAxisSide != "left") {
        params += "&s="+yAxisSide;
    };

    if (autoRescale) {
        params += "&r=1";
    };

    if (isMobile != ("ontouchstart" in document)) {
        params += "&m=" + (isMobile ? "1" : "0");
    };

    if (!noGrey) {
        params += "&g=0";
    };

    if (!noScore) {
        params += "&p=0";
    };

    if (showFit) { // FIT
        params += "&f=1";
    };

    if (params != "") {
        url += "?" + params.substring(1);
    };

    return url + '&'; // extra ampersand for python server bug
};

function doURLRefresh() {
    window.location.replace( buildURL() );
};

function doRefresh() {
    window.location.reload();
};

function swipedetect(el, callback){
// attribution: http://www.javascriptkit.com/javatutors/touchevents2.shtml
    var touchsurface = el,
        swipedir,
        startX, startY,
        distX, distY,
        threshold = 150, //required min distance traveled to be considered swipe
        restraint = 100, // maximum distance allowed at the same time in perpendicular direction
        twotouch = false,
        moretouch = false,
        handleswipe = callback || function(swipedir) {};
    touchsurface.addEventListener(
        'touchstart',
        function(e) {
            twotouch = false;
            moretouch = false;
            const touchobj = e.changedTouches[0];
            swipedir = 'none';
            startX = touchobj.pageX;
            startY = touchobj.pageY;
            e.preventDefault();
        },
        false
    );
    touchsurface.addEventListener(
        'touchmove',
        function(e) {
            if (e.touches.length == 2) {
                twotouch = true;
            } else if (e.touches.length > 2) {
                moretouch = true;
            };
            e.preventDefault(); // prevent scrolling when inside DIV
        },
        false
    );
    touchsurface.addEventListener(
        'touchend',
        function(e) {
            if (!twotouch || moretouch) {
                return;
            };
            twotouch = false;
            const touchobj = e.changedTouches[0];
            distX = touchobj.pageX - startX; // get horizontal dist traveled by finger while in contact with surface
            distY = touchobj.pageY - startY; // get vertical dist traveled by finger while in contact with surface
            if (Math.abs(distX) >= threshold && Math.abs(distY) <= restraint) {
                // condition for horizontal swipe met
                swipedir = distX < 0 ? 'left' : 'right'; // if dist traveled is negative, it indicates left swipe
            } else if (Math.abs(distY) >= threshold && Math.abs(distX) <= restraint) {
                // condition for vertical swipe met
                swipedir = distY < 0 ? 'up' : 'down'; // if dist traveled is negative, it indicates up swipe
            };
            handleswipe(swipedir);
            e.preventDefault();
        },
        false
    );
};

function outputData(data) {
    const el = document.getElementById("output");
    if (el) {
        el.innerHTML = data;
    } else {
        alert(data);
    };
};

</script>
  <script>d3chart();</script>
</body></html>

